set cut_paste_input [stack 0]
version 15.1 v6
Dot {
 inputs 0
 name Dot8
 selected true
 xpos 1613
 ypos -808
}
Dot {
 inputs 0
 name Dot9
 selected true
 xpos 1613
 ypos -728
}
push $cut_paste_input
Dot {
 name Dot10
 selected true
 xpos 1793
 ypos -808
}
push 0
Dot {
 name Dot11
 selected true
 xpos 1973
 ypos -728
}
push $cut_paste_input
Dot {
 name Dot12
 selected true
 xpos 1973
 ypos -808
}
Group {
 inputs 5
 name scope_builder1
 tile_color 0xefb500ff
 note_font "Verdana Bold"
 selected true
 xpos 1760
 ypos -730
 addUserKnob {20 general}
 addUserKnob {26 _3 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_Scope Builder v.1.2</span></b>"}
 addUserKnob {26 ""}
 addUserKnob {7 eyedistance l distance t "\neye distance from the scope\n\nIf you lower the distance and the scope frame gets bigger your arget plate will probably be too small. You can fix this by lowering the lens distortion value." R 0.5 2}
 eyedistance 1
 addUserKnob {7 defocus_1 l <b>defocus R 1 100}
 defocus_1 30
 addUserKnob {6 defocus l "" -STARTLINE}
 addUserKnob {41 aspect l "aspect ratio" T ZDefocus2.aspect}
 addUserKnob {26 background l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">background</span></b>"}
 addUserKnob {6 enablebg l enable t "\nenables the plate outside of the scope" +STARTLINE}
 enablebg true
 addUserKnob {41 brightness T Multiply1.value}
 addUserKnob {6 enabbbright l "" -STARTLINE}
 enabbbright true
 addUserKnob {26 target l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">target</span></b>"}
 addUserKnob {6 targetenable l enable +STARTLINE}
 targetenable true
 addUserKnob {41 adjbbox l "adjust bbox" t "\nThis grows the bounding box of the target plate in case the target it is cut off.\nTry to keep this number as low as possible since it is drastically influencing the performance." T Crop3.grow}
 addUserKnob {7 zoom l <b>zoom R 1 5}
 zoom 1.5
 addUserKnob {6 enablezoom l "" -STARTLINE}
 enablezoom true
 addUserKnob {6 zch l "zoom crosshair" t "\nzooms the crosshair by the same amount as the targets zoom slider" +STARTLINE}
 addUserKnob {7 zmult l "&nbsp;| &nbsp;&nbsp;weight&nbsp;&nbsp;" t "\nThis modifies the weight between the original unzoomed state of the scope and the zoomed state. \n\nA value of 1 will zoom the crosshair by the same amount as the zoom slider\n\nA value of 0 will not zoom the crosshair at all\n\n0.5 will zoom the crosshair half the amount of the zoom slider\n\nFrom testing a value of 0.2 looks very good ;)" -STARTLINE}
 zmult 1
 addUserKnob {7 lensdist l "lens distortion" R -1 1}
 lensdist -1
 addUserKnob {6 enabledist l "" -STARTLINE}
 enabledist true
 addUserKnob {41 size_1 l blur T Blur3.size}
 addUserKnob {6 benab l "" -STARTLINE}
 benab true
 addUserKnob {7 crom l "color shift" R 0 50}
 crom 15
 addUserKnob {6 crom_1 l "" -STARTLINE}
 crom_1 true
 addUserKnob {41 black_1 l lift T Grade1.black}
 addUserKnob {6 liftenable l "" -STARTLINE}
 liftenable true
 addUserKnob {26 text_2 l <b>edge}
 addUserKnob {7 def_3 l defocus R 0 50}
 def_3 5
 addUserKnob {6 edgedef l "" -STARTLINE}
 edgedef true
 addUserKnob {41 edgedarkness l brightness T Grade2.multiply}
 addUserKnob {6 engrade l "" t "\nenables edge brightness" -STARTLINE}
 engrade true
 addUserKnob {41 edgecol l tint T Grade9.white}
 addUserKnob {6 engradecol l "" t "\nenables edge color" -STARTLINE}
 engradecol true
 addUserKnob {41 colrange l range t "\nrange to be affected by brightness and tint" T Blur5.size}
 addUserKnob {26 text_3 l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">lens dirth</span></b>"}
 addUserKnob {6 enablelensdirth l enable +STARTLINE}
 addUserKnob {6 maskbymask l "mask by edge mask" t "\nthis is using the edge matte from the \"edge\" properties above" -STARTLINE}
 addUserKnob {41 mix T Merge17.mix}
 addUserKnob {26 ""}
 addUserKnob {6 presbbox l "preserve bbox" +STARTLINE}
 addUserKnob {20 scope}
 addUserKnob {26 scframe l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">frame</span></b>"}
 addUserKnob {6 enablescope l enable t "\nenable scope asset" +STARTLINE}
 enablescope true
 addUserKnob {6 texture l "use texture" -STARTLINE}
 addUserKnob {7 thickness t "\nthickness of the scope wall"}
 thickness 0.1
 addUserKnob {41 globbright l brightness T Multiply2.value}
 addUserKnob {7 patch l "patch holes"}
 patch 0.6
 addUserKnob {26 _1 l <b>light}
 addUserKnob {7 lightoff l "light offset" R 0 50}
 lightoff 14
 addUserKnob {7 lightdir l "light direction" R 0 360}
 lightdir 180
 addUserKnob {7 lightrange l "light range" R 0 100}
 lightrange 20
 addUserKnob {41 multiply l highlights T Grade3.multiply}
 addUserKnob {41 multiply_1 l shadows T Grade5.multiply}
 addUserKnob {7 abbr l "color shift" R -0.02 0.02}
 abbr 0.002
 addUserKnob {6 abbrenable l "" -STARTLINE}
 abbrenable true
 addUserKnob {26 ""}
 addUserKnob {26 text l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">scope body</span></b>"}
 addUserKnob {6 wheels l "adjust wheels" +STARTLINE}
 wheels true
 addUserKnob {4 wheelsam l "" -STARTLINE M {side top both}}
 wheelsam both
 addUserKnob {6 flipside l "flip side" -STARTLINE}
 addUserKnob {7 wheelw l "wheel width" R 0 2}
 wheelw 1.5
 addUserKnob {7 wheelh l "wheel height" R 0.5 1.5}
 wheelh 0.95
 addUserKnob {26 ""}
 addUserKnob {6 zoomring l "zoom ring" +STARTLINE}
 zoomring true
 addUserKnob {4 segments M {2 4 8 16 32 "" "" ""}}
 segments 16
 addUserKnob {30 sizering l "&nbsp;size&nbsp;" -STARTLINE}
 sizering {1 1}
 addUserKnob {41 rotate T Transform13.rotate}
 addUserKnob {41 value l brightness T Multiply3.value}
 addUserKnob {26 ""}
 addUserKnob {26 crosshair_1 l "<span style=\"color:#aaa\"><b><span style=\"color:#77f\">crosshair</span></b>"}
 addUserKnob {6 enablecrosshair l enable +STARTLINE}
 enablecrosshair true
 addUserKnob {7 chscale l scale R 0 3}
 chscale 1.5
 addUserKnob {41 black l lift T Grade8.black}
 addUserKnob {41 size l blur T Blur2.size}
 addUserKnob {41 fringe l "red fringe" T Blur4.size}
 addUserKnob {41 Intensity l "wrap strength" T LightWrap1.Intensity}
 addUserKnob {6 enwrap l "" t "\nenables wrap" -STARTLINE}
 enwrap true
 addUserKnob {41 Diffuse l "wrap range" T LightWrap1.Diffuse}
 addUserKnob {26 ""}
 addUserKnob {20 movement}
 addUserKnob {6 enablemove l enable +STARTLINE}
 enablemove true
 addUserKnob {41 translate l "crosshair position" T Transform1.translate}
 addUserKnob {22 resetpos l reset -STARTLINE T "n = nuke.thisGroup()\n\nn\['translate'].setValue(\[0,0])"}
 addUserKnob {7 multtranslate l "multiply translate" t "\nThis slider can be used to multiply the incoming values from crosshair position to be stronger or less strong." R 0 2}
 multtranslate 1
 addUserKnob {7 relmove l "relative movement" t "\ncontrols how much faster the inside frame moves then the crosshair.\n\nExample: 1 means the crosshair and inside frame move at the same speed.\n\n2: the inside frame moves twice as much as the crosshair.\n\n0.5: it moves only half of the crosshairs movement." R 0 5}
 relmove 2
 addUserKnob {20 info}
 addUserKnob {26 _2 l "" +STARTLINE T "<br><span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.2 - 2025 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
 addUserKnob {26 text_1 l "" +STARTLINE T "<br><a href=\"https://youtu.be/6fDj7KhMeu4\"><b><span style=\"color:#aaa\"><i>watch tutorial</span></b></a><br>"}
 addUserKnob {22 python_button l "patch notes" T "nuke.message(\"<b>version 1.1:</b><br>- missmatching resolutions of target and plate input fixed<br> - base input changed from plate to target<br><br><b>version 1.2:</b><br>- added zoom crosshair checker <br> - added zoom weight slider <br>- added enable checker to crosshair wrap options <br>- added more edge options to target plate <br>- added lens dirth options <br>- increased performance <br>- changed some slider defaults\")" +STARTLINE}
}
 BackdropNode {
  inputs 0
  name BackdropNode1
  tile_color 0x967d32ff
  label "<p align=\"center\">BASEPLATE (SCOPE)"
  note_font "Arial Black Bold"
  note_font_size 50
  xpos -1144
  ypos -562
  bdwidth 599
  bdheight 475
 }
 BackdropNode {
  inputs 0
  name BackdropNode2
  tile_color 0x965832ff
  label "<p align=\"center\">zoomed plate\n(inside scope)"
  note_font "Arial Black Bold"
  note_font_size 50
  xpos -440
  ypos -314
  bdwidth 555
  bdheight 1181
 }
 BackdropNode {
  inputs 0
  name BackdropNode3
  tile_color 0xff0000ff
  label "<center>Adjust lights here!!!"
  note_font "Verdana Bold"
  note_font_size 52
  xpos -4752
  ypos -172
  bdwidth 657
  bdheight 428
 }
 BackdropNode {
  inputs 0
  name BackdropNode4
  tile_color 0xffd455ff
  label "<p align=\"center\">crosshair"
  note_font "Arial Black Bold"
  note_font_size 50
  xpos -930
  ypos 582
  bdwidth 420
  bdheight 239
 }
 Camera3 {
  inputs 0
  translate {0 0 {parent.eyedistance}}
  focal 35
  name Camera1
  label projection
  note_font "Verdana Bold"
  xpos -2730
  ypos 291
 }
set N6242dc00 [stack 0]
 Dot {
  name Dot22
  xpos -2708
  ypos 473
 }
 Reformat {
  inputs 0
  format "1920 1080 0 0 1920 1080 1 HD_1080"
  name Reformat1
  xpos -2560
  ypos -2010
  hide_input true
 }
set N6242c000 [stack 0]
 Radial {
  area {420 0 1500 1080}
  softness 0
  name Radial1
  xpos -2560
  ypos -1290
 }
set N87869800 [stack 0]
 Dot {
  name Dot4
  xpos -2708
  ypos -1287
 }
 Transform {
  scale {{1+(parent.thickness*-1)}}
  center {960 540}
  name Transform3
  label "frame thickness"
  note_font "Verdana Bold"
  xpos -2740
  ypos -1136
 }
set N21bde400 [stack 0]
push $N6242c000
 Dot {
  name Dot13
  xpos -2347
  ypos -2007
 }
 Roto {
  curves {{{v x3f99999a}
  {f 0}
  {n
   {layer Root
    {f 2097152}
    {t x44700000 x44070000}
    {a pt1x 0 pt1y 0 pt2x 0 pt2y 0 pt3x 0 pt3y 0 pt4x 0 pt4y 0 ptex00 0 ptex01 0 ptex02 0 ptex03 0 ptex10 0 ptex11 0 ptex12 0 ptex13 0 ptex20 0 ptex21 0 ptex22 0 ptex23 0 ptex30 0 ptex31 0 ptex32 0 ptex33 0 ptof1x 0 ptof1y 0 ptof2x 0 ptof2y 0 ptof3x 0 ptof3y 0 ptof4x 0 ptof4y 0 pterr 0 ptrefset 0 ptmot x40800000 ptref 0}
    {curvegroup Rectangle1 512 bezier
     {{cc
       {f 8192}
       {px x447a0000
        {0 0}
        {x43c39352 x440c50ca}
        {0 0}
        {xc1442fe0 xc1824f60}
        {x43d65f9a x4415e798}
        {x41442fe0 x41824f40}
        {0 0}
        {x43dcad1d x4421d644}
        {0 0}
        {0 0}
        {x44b8b3a9 x4421db93}
        {0 0}
        {xc1424a80 x41827400}
        {x44ba3f7e x4415e9df}
        {x41424980 xc18273c0}
        {0 0}
        {x44beea8c x440c50ca}
        {0 0}
        {0 0}
        {x44beea8c x4401afb2}
        {xb9000000 0}
        {x413a0780 x417a4580}
        {x44ba5f95 x43f0619a}
        {xc1498780 xc1879060}
        {0 x38000000}
        {x44b8b543 x43d841ea}
        {0 x38000000}
        {0 0}
        {x43dc8dea x43d841f0}
        {0 0}
        {x41433c00 xc1828ee0}
        {x43d6505e x43f025b0}
        {xc1433c60 x41828f20}
        {0 0}
        {x43c39352 x4401afb2}
        {0 0}}}     idem}
     {tx x447a0000 x446f2000 x44070000}
     {a osw x41200000 osf 0 str 1 spx x44700000 spy x44070000 sb 1 ltn x447a0000 ltm x447a0000 tt x41000000}}}}}}
  toolbox {selectAll {
  { selectAll str 1 ssx 1 ssy 1 sf 1 }
  { createBezier str 1 ssx 1 ssy 1 sf 1 sb 1 tt 4 }
  { createBezierCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createBSpline str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createEllipse str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { createRectangle str 1 ssx 1 ssy 1 sf 1 sb 1 tt 8 }
  { createRectangleCusped str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { addPoints str 1 ssx 1 ssy 1 sf 1 }
  { brush str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { eraser src 2 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { clone src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { reveal src 3 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { dodge src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { burn src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { blur src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { sharpen src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
  { smear src 1 str 1 ssx 1 ssy 1 sf 1 sb 1 }
} }
  toolbar_brush_hardness 0.200000003
  toolbar_source_transform_scale {1 1}
  toolbar_source_transform_center {960 540}
  colorOverlay {0 0 0 0}
  lifetime_type "all frames"
  lifetime_start 1000
  lifetime_end 1000
  motionblur_shutter_offset_type centred
  source_black_outside true
  name Roto1
  xpos -2380
  ypos -1930
 }
 Transform {
  scale {{0.9+(parent.sizering.u/10)} {0.9+(parent.sizering.v/10)}}
  center {960 540}
  name Transform13
  xpos -2380
  ypos -1850
 }
 Blur {
  size 20
  name Blur1
  xpos -2380
  ypos -1776
 }
 Grade {
  channels rgba
  blackpoint 0.72
  whitepoint 0.73
  white_clamp true
  name Grade4
  xpos -2380
  ypos -1690
 }
set N21bdf800 [stack 0]
 Transform {
  rotate 90
  center {960 540}
  name Transform8
  xpos -2200
  ypos -1610
 }
push $N21bdf800
 Merge2 {
  inputs 2
  operation screen
  name Merge11
  xpos -2380
  ypos -1610
  disable {{"segments==1 || segments==2 || segments==3|| segments==4 ? 0:1"}}
 }
set Na2cbc000 [stack 0]
 Transform {
  rotate 45
  center {960 540}
  name Transform9
  xpos -2200
  ypos -1530
 }
push $Na2cbc000
 Merge2 {
  inputs 2
  operation screen
  name Merge12
  xpos -2380
  ypos -1530
  disable {{"segments==2 || segments==3 || segments==4 ? 0:1"}}
 }
set Na2cbc800 [stack 0]
 Transform {
  rotate 22.5
  center {960 540}
  name Transform11
  xpos -2200
  ypos -1450
 }
push $Na2cbc800
 Merge2 {
  inputs 2
  operation screen
  name Merge10
  xpos -2380
  ypos -1450
  disable {{"segments==3 || segments==4 ? 0:1"}}
 }
set Na2cbd000 [stack 0]
 Transform {
  rotate 11.25
  scale 0.99
  center {960 540}
  name Transform12
  xpos -2200
  ypos -1370
 }
push $Na2cbd000
 Merge2 {
  inputs 2
  operation screen
  name Merge15
  xpos -2380
  ypos -1370
  disable {{"segments==4 ? 0:1"}}
 }
 Crop {
  box {354 -49.19995117 1566 1129.199951}
  name Crop2
  xpos -2380
  ypos -1210
 }
 Merge2 {
  inputs 2
  operation stencil
  name Merge13
  xpos -2380
  ypos -1130
 }
 Multiply {
  channels rgb
  value 0.8
  name Multiply3
  xpos -2380
  ypos -1050
 }
push $N21bde400
 Dot {
  name Dot14
  xpos -2707
  ypos -1047
 }
push $N87869800
 Merge2 {
  inputs 2
  operation stencil
  name Merge2
  xpos -2560
  ypos -1050
 }
 Merge2 {
  inputs 2
  operation under
  name Merge14
  xpos -2560
  ypos -969
  disable {{!parent.zoomring}}
 }
set N461f9000 [stack 0]
 Dot {
  name Dot1
  xpos -2347
  ypos -967
 }
set N461f9400 [stack 0]
 Dot {
  name Dot2
  xpos -2167
  ypos -967
 }
 Group {
  name MS_edge_matte1
  tile_color 0xefb500ff
  note_font "Verdana Bold Italic"
  xpos -2200
  ypos -250
  addUserKnob {20 properties}
  addUserKnob {26 _1 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_ Edge Matte v.1.0</span></b>"}
  addUserKnob {26 ""}
  addUserKnob {41 blursize l "blur size" T Blur3.size}
  addUserKnob {7 density l "mask density" R -1 1}
  density {{parent.MS_edge_matte.density}}
  addUserKnob {7 edgefill l "edge fill" +INVISIBLE R -5 0}
  edgefill -1
  addUserKnob {7 offset1 l "<i><span style=\"color:#678\">offset</span>" R 0 200}
  offset1 {{parent.MS_edge_matte.offset1}}
  addUserKnob {7 direction1 l "<i><span style=\"color:#678\">direction</span>" R 0 360}
  direction1 {{parent.MS_edge_matte.direction1+180}}
  addUserKnob {7 offsetscale l "<i><span style=\"color:#678\">extend</span>" t "\nextends the edges around the alpha to give a better rim light" R 0 50}
  offsetscale {{parent.MS_edge_matte.offsetscale}}
  addUserKnob {41 round_filter l "Round Filter" -STARTLINE T Erode_Fine4.round_filter}
  addUserKnob {26 ""}
  addUserKnob {6 stroke +STARTLINE}
  addUserKnob {4 position M {outside centered inside}}
  position inside
  addUserKnob {7 width1 l width R 0 20}
  width1 2
  addUserKnob {7 blursize2 l "blur size" R 0 20}
  addUserKnob {7 maskdensity2 l "mask density" R -1 1}
  addUserKnob {26 ""}
  addUserKnob {6 extendalpha l "<i>&nbsp;&nbsp;extend edges" t "\nExtends the alphas outline by 2 pixels to prevent from getting black edges when using this matte for grading.\n\nWhen using the mask to grade before a premult this should be enabled!" +STARTLINE}
  extendalpha true
  addUserKnob {3 pixelextend l "" t "Extend edge by \[...] pixels" -STARTLINE}
  pixelextend 2
  addUserKnob {20 info}
  addUserKnob {26 _2 l "" +STARTLINE T "<br><span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.0 - 2024 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
  addUserKnob {26 _3 l "" +STARTLINE T "<br><a href=\"https://youtu.be/fHRCKhuxRUU\"><b><span style=\"color:#aaa\"><i>watchdemo</span></b></a>"}
 }
  Input {
   inputs 0
   name object
   xpos 500
   ypos 309
  }
  Dot {
   name Dot10
   xpos 534
   ypos 394
  }
set N5f33e000 [stack 0]
  Dot {
   name Dot12
   xpos 893
   ypos 394
  }
set N5f33e400 [stack 0]
  Dot {
   name Dot1
   xpos 1253
   ypos 393
  }
set N5f33e800 [stack 0]
  Dot {
   name Dot2
   xpos 1433
   ypos 393
  }
set N5f33ec00 [stack 0]
  Dot {
   name Dot3
   xpos 1793
   ypos 393
  }
set N5f33f000 [stack 0]
  Dot {
   name Dot4
   xpos 1972
   ypos 394
  }
set N5f33f400 [stack 0]
  Dilate {
   size {{parent.pixelextend+3}}
   name Dilate2
   xpos 1940
   ypos 464
   disable {{!parent.extendalpha}}
  }
push $N5f33f000
  Group {
   name Erode_Fine1
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1760
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*-1}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N5f2e4400 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N5f2e4800 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N5f2e4c00 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N5f2e4c00
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N5f2e4800
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N5f267c00 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N5f267c00
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N5e87cc00 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N5e87cc00
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N5e87cc00
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N5e846800 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N5e846800
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N5e846800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N5f2e4400
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Merge2 {
   inputs 2
   operation minus
   name Merge2
   xpos 1940
   ypos 550
  }
  Blur {
   size {{parent.blursize2}}
   name Blur2
   xpos 1940
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade3
   xpos 1940
   ypos 784
  }
push $N5f33f400
  Dot {
   name Dot14
   xpos 2334
   ypos 394
  }
set N5e6b6400 [stack 0]
  Group {
   name Erode_Fine2
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 2301
   ypos 518
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*0.5}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N5e6b7000 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N5e6b7400 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N5e6b7800 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N5e6b7800
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N5e6b7400
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set Nc3ed6800 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $Nc3ed6800
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set Nc3ed7800 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $Nc3ed7800
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $Nc3ed7800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nc3e97400 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nc3e97400
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nc3e97400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N5e6b7000
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
push $N5e6b6400
  Dot {
   name Dot15
   xpos 2514
   ypos 394
  }
  Group {
   name Erode_Fine3
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 2480
   ypos 517
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*-0.6}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N93ebb000 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N93ebb400 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N93ebb800 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N93ebb800
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N93ebb400
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N91246800 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N91246800
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N91247800 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N91247800
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N91247800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nc0cb1400 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nc0cb1400
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nc0cb1400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N93ebb000
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Dot {
   name Dot5
   xpos 2514
   ypos 634
  }
  Merge2 {
   inputs 2
   operation minus
   name Merge6
   xpos 2301
   ypos 630
  }
  Blur {
   size {{parent.blursize2}}
   name Blur4
   xpos 2300
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade2
   xpos 2300
   ypos 784
  }
push $N5f33e800
  Group {
   name Erode_Fine
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1221
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N5fcebc00 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N91c10000 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N91c10400 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N91c10400
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N91c10000
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set Nc0ce5400 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $Nc0ce5400
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N5f530400 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N5f530400
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N5f530400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N54f32000 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N54f32000
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N54f32000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N5fcebc00
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
push $N5f33ec00
  Group {
   name Erode_Fine5
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1400
   ypos 471
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size -0.6
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N53add800 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N53addc00 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set Nc0d50000 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $Nc0d50000
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N53addc00
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N1d48f000 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N1d48f000
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N5f32c000 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N5f32c000
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N5f32c000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N5f32dc00 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N5f32dc00
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N5f32dc00
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N53add800
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Merge2 {
   inputs 2
   operation minus
   name Merge1
   xpos 1400
   ypos 550
  }
  Blur {
   size {{parent.blursize2}}
   name Blur1
   xpos 1400
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade4
   xpos 1400
   ypos 784
  }
  Switch {
   inputs 3
   which {{parent.position}}
   name Switch2
   xpos 1940
   ypos 1030
  }
push $N5f33e000
  Dot {
   name Dot11
   xpos 533
   ypos 714
  }
set Nc000d800 [stack 0]
  Dilate {
   size {{parent.pixelextend}}
   name Dilate1
   xpos 679
   ypos 704
  }
push $N5f33e400
  Transform {
   translate {{sin(dir1.directionctrl)*dir1.multdir} {cos(dir1.directionctrl)*dir1.multdir}}
   center {{"\[value input.format.r]/2"} {"\[value input.format.t]/2"}}
   name Transform1
   xpos 860
   ypos 470
  }
  Group {
   name Erode_Fine4
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 860
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.offsetscale}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N8e826c00 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N8e827000 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N8e827400 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N8e827400
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N8e827000
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N91c42400 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N91c42400
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N91c43400 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N91c43400
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N91c43400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N5f4a9000 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N5f4a9000
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N5f4a9000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N8e826c00
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Blur {
   size {{parent.parent.MS_edge_matte.Blur3.size}}
   name Blur3
   xpos 859
   ypos 624
  }
  Merge2 {
   inputs 2
   operation minus
   bbox A
   name Merge7
   xpos 859
   ypos 710
  }
  Grade {
   channels alpha
   multiply {{parent.density+1}}
   white_clamp true
   name Grade1
   xpos 859
   ypos 784
  }
  Dot {
   name Dot13
   xpos 892
   ypos 873
  }
  Dot {
   name Dot6
   xpos 712
   ypos 873
  }
set N53aef000 [stack 0]
  Dot {
   name Dot7
   xpos 712
   ypos 953
  }
push $N53aef000
push $Nc000d800
  Merge2 {
   inputs 2
   operation mask
   name Merge8
   xpos 499
   ypos 870
  }
  Switch {
   inputs 2
   which {{parent.extendalpha}}
   name extend_edge
   xpos 499
   ypos 950
  }
  Switch {
   inputs 2
   which {{parent.stroke}}
   name Switch1
   xpos 500
   ypos 1030
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.alpha 0 3 rgba.red 0 0 rgba.alpha 0 3 rgba.green 0 1 rgba.alpha 0 3 rgba.blue 0 2 rgba.alpha 0 3 rgba.alpha 0 3"
   name Shuffle1
   xpos 500
   ypos 1110
  }
  Output {
   name Output1
   xpos 500
   ypos 1270
  }
  NoOp {
   inputs 0
   name dir1
   xpos 680
   ypos 470
   hide_input true
   addUserKnob {20 User}
   addUserKnob {7 directionctrl}
   directionctrl {{(parent.direction1)/60}}
   addUserKnob {7 multdir l "multiply direction"}
   multdir {{parent.offset1}}
  }
 end_group
 Dot {
  name Dot3
  xpos -2167
  ypos -167
 }
push $N461f9400
 Group {
  name MS_edge_matte
  tile_color 0xefb500ff
  note_font "Verdana Bold Italic"
  xpos -2381
  ypos -250
  addUserKnob {20 properties}
  addUserKnob {26 _1 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_ Edge Matte v.1.0</span></b>"}
  addUserKnob {26 ""}
  addUserKnob {41 blursize l "blur size" T Blur3.size}
  addUserKnob {7 density l "mask density" R -1 1}
  density 1
  addUserKnob {7 edgefill l "edge fill" +INVISIBLE R -5 0}
  edgefill -1
  addUserKnob {7 offset1 l "<i><span style=\"color:#678\">offset</span>" R 0 200}
  offset1 {{parent.lightoff}}
  addUserKnob {7 direction1 l "<i><span style=\"color:#678\">direction</span>" R 0 360}
  direction1 {{parent.lightdir}}
  addUserKnob {7 offsetscale l "<i><span style=\"color:#678\">extend</span>" t "\nextends the edges around the alpha to give a better rim light" R 0 50}
  offsetscale 12
  addUserKnob {41 round_filter l "Round Filter" -STARTLINE T Erode_Fine4.round_filter}
  addUserKnob {26 ""}
  addUserKnob {6 stroke +STARTLINE}
  addUserKnob {4 position M {outside centered inside}}
  position inside
  addUserKnob {7 width1 l width R 0 20}
  width1 2
  addUserKnob {7 blursize2 l "blur size" R 0 20}
  addUserKnob {7 maskdensity2 l "mask density" R -1 1}
  addUserKnob {26 ""}
  addUserKnob {6 extendalpha l "<i>&nbsp;&nbsp;extend edges" t "\nExtends the alphas outline by 2 pixels to prevent from getting black edges when using this matte for grading.\n\nWhen using the mask to grade before a premult this should be enabled!" +STARTLINE}
  extendalpha true
  addUserKnob {3 pixelextend l "" t "Extend edge by \[...] pixels" -STARTLINE}
  pixelextend 2
  addUserKnob {20 info}
  addUserKnob {26 _2 l "" +STARTLINE T "<br><span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.0 - 2024 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
  addUserKnob {26 _3 l "" +STARTLINE T "<br><a href=\"https://youtu.be/fHRCKhuxRUU\"><b><span style=\"color:#aaa\"><i>watchdemo</span></b></a>"}
 }
  Input {
   inputs 0
   name object
   xpos 500
   ypos 309
  }
  Dot {
   name Dot10
   xpos 534
   ypos 394
  }
set N7dc17000 [stack 0]
  Dot {
   name Dot12
   xpos 893
   ypos 394
  }
set N7dc17400 [stack 0]
  Dot {
   name Dot1
   xpos 1253
   ypos 393
  }
set N7dc17800 [stack 0]
  Dot {
   name Dot2
   xpos 1433
   ypos 393
  }
set N7dc17c00 [stack 0]
  Dot {
   name Dot3
   xpos 1793
   ypos 393
  }
set N80036000 [stack 0]
  Dot {
   name Dot4
   xpos 1972
   ypos 394
  }
set N80036400 [stack 0]
  Dilate {
   size {{parent.pixelextend+3}}
   name Dilate2
   xpos 1940
   ypos 464
   disable {{!parent.extendalpha}}
  }
push $N80036000
  Group {
   name Erode_Fine1
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1760
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*-1}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N80037400 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N80037800 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N80037c00 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N80037c00
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N80037800
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N908bcc00 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N908bcc00
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N908bdc00 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N908bdc00
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N908bdc00
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nc4041800 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nc4041800
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nc4041800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N80037400
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Merge2 {
   inputs 2
   operation minus
   name Merge2
   xpos 1940
   ypos 550
  }
  Blur {
   size {{parent.blursize2}}
   name Blur2
   xpos 1940
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade3
   xpos 1940
   ypos 784
  }
push $N80036400
  Dot {
   name Dot14
   xpos 2334
   ypos 394
  }
set N5ee53400 [stack 0]
  Group {
   name Erode_Fine2
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 2301
   ypos 518
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*0.5}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set Nce8e0000 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set Nce8e0400 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set Nce8e0800 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $Nce8e0800
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $Nce8e0400
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N58209800 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N58209800
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N91fca800 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N91fca800
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N91fca800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nc0cb8400 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nc0cb8400
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nc0cb8400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $Nce8e0000
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
push $N5ee53400
  Dot {
   name Dot15
   xpos 2514
   ypos 394
  }
  Group {
   name Erode_Fine3
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 2480
   ypos 517
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1*-0.6}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N5f3d2000 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N5f3d2400 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N5f3d2800 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N5f3d2800
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N5f3d2400
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set Nc4255800 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $Nc4255800
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N9cdc8800 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N9cdc8800
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N9cdc8800
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nbebd2400 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nbebd2400
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nbebd2400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N5f3d2000
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Dot {
   name Dot5
   xpos 2514
   ypos 634
  }
  Merge2 {
   inputs 2
   operation minus
   name Merge6
   xpos 2301
   ypos 630
  }
  Blur {
   size {{parent.blursize2}}
   name Blur4
   xpos 2300
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade2
   xpos 2300
   ypos 784
  }
push $N7dc17800
  Group {
   name Erode_Fine
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1221
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.width1}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set Nbeeeac00 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set Nbeeeb000 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set Nbeeeb400 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $Nbeeeb400
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $Nbeeeb000
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set N64e78400 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $N64e78400
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set N64e79400 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $N64e79400
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $N64e79400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N921a9000 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N921a9000
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N921a9000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $Nbeeeac00
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
push $N7dc17c00
  Group {
   name Erode_Fine5
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 1400
   ypos 471
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size -0.6
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set Nda178800 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set Nda178c00 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set Nda179000 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $Nda179000
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $Nda178c00
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set Ncec9e000 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $Ncec9e000
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set Ncec9f000 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $Ncec9f000
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $Ncec9f000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set Nc8b58c00 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $Nc8b58c00
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $Nc8b58c00
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $Nda178800
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Merge2 {
   inputs 2
   operation minus
   name Merge1
   xpos 1400
   ypos 550
  }
  Blur {
   size {{parent.blursize2}}
   name Blur1
   xpos 1400
   ypos 704
  }
  Grade {
   channels alpha
   whitepoint {{((parent.maskdensity2)*-1)+1}}
   white_clamp true
   name Grade4
   xpos 1400
   ypos 784
  }
  Switch {
   inputs 3
   which {{parent.position}}
   name Switch2
   xpos 1940
   ypos 1030
  }
push $N7dc17000
  Dot {
   name Dot11
   xpos 533
   ypos 714
  }
set N9cdce800 [stack 0]
  Dilate {
   size {{parent.pixelextend}}
   name Dilate1
   xpos 679
   ypos 704
  }
push $N7dc17400
  Transform {
   translate {{sin(dir1.directionctrl)*dir1.multdir} {cos(dir1.directionctrl)*dir1.multdir}}
   center {{"\[value input.format.r]/2"} {"\[value input.format.t]/2"}}
   name Transform1
   xpos 860
   ypos 470
  }
  Group {
   name Erode_Fine4
   help "Erode an image with fine controls, as opposed to Nuke's default erode node."
   tile_color 0xef7033ff
   label "\[value size]"
   note_font "DejaVu Sans"
   xpos 860
   ypos 545
   addUserKnob {20 erode_fine l "Fine Erode"}
   addUserKnob {41 channels T NodeWrapper1.channels}
   addUserKnob {26 ""}
   addUserKnob {6 round_filter l "Round Filter" t "Erode the image with a round Filter (well, it's more of a dodecagon... but... you know..) instead of a square filter." +STARTLINE}
   addUserKnob {7 size l Size t "Amount of erode/dilate. Positive values will grow the image, negative values will shrink it." R -10 10}
   size {{parent.offsetscale}}
   addUserKnob {26 ""}
   addUserKnob {41 maskChannelInput l mask T NodeWrapper1.maskChannelInput}
   addUserKnob {41 inject -STARTLINE T NodeWrapper1.inject}
   addUserKnob {41 invert_mask l invert -STARTLINE T NodeWrapper1.invert_mask}
   addUserKnob {41 fringe -STARTLINE T NodeWrapper1.fringe}
   addUserKnob {41 mix T NodeWrapper1.mix}
   addUserKnob {26 spin_copyright_div l "" +STARTLINE}
   addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nErode_Fine\nVersion 1.0\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.0 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x75667fff
    label "round dilate trick"
    note_font_size 40
    xpos 212
    ypos -67
    bdwidth 299
    bdheight 618
   }
   Input {
    inputs 0
    name Inputmask
    xpos 251
    ypos 1257
    number 1
   }
   Input {
    inputs 0
    name Input
    xpos -11
    ypos -243
   }
   Dot {
    name Dot15
    tile_color 0xcccccc00
    xpos 22
    ypos -160
   }
set N9cdcfc00 [stack 0]
   Dot {
    name Dot3
    tile_color 0xcccccc00
    xpos 23
    ypos 33
   }
set N7d468000 [stack 0]
   Dot {
    name Dot1
    tile_color 0xcccccc00
    xpos 296
    ypos 33
   }
set N7d468400 [stack 0]
   Dot {
    name Dot2
    tile_color 0xcccccc00
    xpos 415
    ypos 33
   }
   AdjBBox {
    numpixels {{abs(ceil(parent.size)*1.4)+2}}
    name AdjBBox1
    xpos 381
    ypos 100
   }
   Dot {
    name Dot4
    tile_color 0xcccccc00
    xpos 415
    ypos 422
   }
push $N7d468400
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 >= 1)"}}
    name Dilate1
    label "size \[value size]"
    xpos 262
    ypos 97
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform1
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 147
   }
   Dilate {
    size {{"int(parent.size)//3 + (int(parent.size)%3 == 2)"}}
    name Dilate2
    label "size \[value size]"
    xpos 262
    ypos 185
   }
   Transform {
    rotate 30
    shutteroffset centred
    name Transform2
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 235
   }
   Dilate {
    size {{int(parent.size)//3}}
    name Dilate3
    label "size \[value size]"
    xpos 262
    ypos 273
   }
   Transform {
    rotate -60
    shutteroffset centred
    name Transform3
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 262
    ypos 323
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 262
    ypos 418
   }
push $N7d468000
   Dilate {
    size {{int(parent.size)}}
    name Dilate4
    label "size \[value size]"
    xpos -11
    ypos 97
   }
   Dot {
    name Dot14
    tile_color 0xcccccc00
    xpos 23
    ypos 491
   }
set Ncaced400 [stack 0]
   Dissolve {
    inputs 2
    which {{clamp(abs(parent.size))}}
    name Dissolve1
    xpos 262
    ypos 481
   }
   Dot {
    name Dot5
    tile_color 0xcccccc00
    xpos 296
    ypos 539
   }
push $Ncaced400
   Switch {
    inputs 2
    which {{parent.round_filter}}
    name Switch1
    xpos -11
    ypos 535
   }
   AdjBBox {
    numpixels 1
    name AdjBBox2
    xpos -11
    ypos 609
   }
   Dot {
    name Dot6
    tile_color 0xcccccc00
    xpos 23
    ypos 678
   }
set Nc5a62400 [stack 0]
   Dot {
    name Dot8
    tile_color 0xcccccc00
    xpos 175
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10)*-1} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform5
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 823
   }
push $Nc5a62400
   Dot {
    name Dot7
    tile_color 0xcccccc00
    xpos -127
    ypos 678
   }
   Transform {
    translate {{exp.expo(abs(parent.size-int(parent.size))*10) i} 0}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform4
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 783
   }
push $Nc5a62400
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge2
    xpos -11
    ypos 789
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge1
    xpos -11
    ypos 829
   }
   Dot {
    name Dot9
    tile_color 0x4b5ec600
    xpos 23
    ypos 910
   }
set N61bb8000 [stack 0]
   Dot {
    name Dot10
    tile_color 0x4b5ec600
    xpos 175
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)*-1}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform6
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos 141
    ypos 1061
   }
push $N61bb8000
   Dot {
    name Dot11
    tile_color 0x4b5ec600
    xpos -127
    ypos 910
   }
   Transform {
    translate {0 {exp.expo(abs(parent.size-int(parent.size))*10)}}
    center {320 240}
    black_outside false
    shutteroffset centred
    name Transform7
    label "\[if \{\[value translate.x] != 0 || \[value translate.y] != 0\} then \{return \"t \[value translate.x] \[value translate.y]\n\"\} else \{return \"\"\}]\[if \{\[value rotate] != 0\} then \{return \"r \[value rotate]\n\"\} else \{return \"\"\}] \[if \{\[value scale] != 1\} then \{return \"s \[value scale]\"\} else \{return \"\"\}]\[if \{\[value skewX] != 0 || \[value skewY] != 0\} then \{return \"sk \[value skewX] \[value skewY]\n\"\} else \{return \"\"\}]\[if \{\[value motionblur] != 0\} then \{return \"mb \[value motionblur] sh \[value shutter] \[value shutteroffset]\n\"\} else \{return \"\"\}]"
    xpos -161
    ypos 1015
   }
push $N61bb8000
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge3
    xpos -11
    ypos 1021
   }
   Merge2 {
    inputs 2
    operation {{parent.size>0?17:18}}
    bbox B
    also_merge all
    name Merge4
    xpos -11
    ypos 1061
   }
push $N9cdcfc00
   Dot {
    name Dot13
    tile_color 0xcccccc00
    xpos -290
    ypos -160
   }
   Dot {
    name Dot12
    tile_color 0xcccccc00
    xpos -290
    ypos 1261
   }
   NodeWrapper {
    inputs 2+1
    channels rgba
    name NodeWrapper1
    xpos -11
    ypos 1257
   }
   Output {
    name Output1
    xpos -11
    ypos 1389
   }
   NoOp {
    inputs 0
    name exp
    label "The growth doesn't look visually linear. \nUsing curves helps a little."
    xpos 396
    ypos 766
    addUserKnob {20 User}
    addUserKnob {7 expo}
    expo {{parent.size>0?positive_curve:negative_curve i}}
    addUserKnob {7 positive_curve}
    positive_curve {{curve 0 0.1037476063 0.1683235168 0.2209408283 0.2831250429 0.3357424736 0.3954704404 0.4731256962 0.5778000951 0.762029767 1}}
    addUserKnob {7 negative_curve}
    negative_curve {{curve 0 0.2209040523 0.3736710192 0.4841623592 0.5752981992 0.6541623592 0.7271137492 0.8043368459 0.8681262732 0.9249737263 1}}
   }
  end_group
  Blur {
   size {{parent.parent.lightrange}}
   name Blur3
   xpos 859
   ypos 624
  }
  Merge2 {
   inputs 2
   operation minus
   bbox A
   name Merge7
   xpos 859
   ypos 710
  }
  Grade {
   channels alpha
   multiply {{parent.density+1}}
   white_clamp true
   name Grade1
   xpos 859
   ypos 784
  }
  Dot {
   name Dot13
   xpos 892
   ypos 873
  }
  Dot {
   name Dot6
   xpos 712
   ypos 873
  }
set N606f0000 [stack 0]
  Dot {
   name Dot7
   xpos 712
   ypos 953
  }
push $N606f0000
push $N9cdce800
  Merge2 {
   inputs 2
   operation mask
   name Merge8
   xpos 499
   ypos 870
  }
  Switch {
   inputs 2
   which {{parent.extendalpha}}
   name extend_edge
   xpos 499
   ypos 950
  }
  Switch {
   inputs 2
   which {{parent.stroke}}
   name Switch1
   xpos 500
   ypos 1030
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.alpha 0 3 rgba.red 0 0 rgba.alpha 0 3 rgba.green 0 1 rgba.alpha 0 3 rgba.blue 0 2 rgba.alpha 0 3 rgba.alpha 0 3"
   name Shuffle1
   xpos 500
   ypos 1110
  }
  Output {
   name Output1
   xpos 500
   ypos 1270
  }
  NoOp {
   inputs 0
   name dir1
   xpos 680
   ypos 470
   hide_input true
   addUserKnob {20 User}
   addUserKnob {7 directionctrl}
   directionctrl {{(parent.direction1)/60}}
   addUserKnob {7 multdir l "multiply direction"}
   multdir {{parent.offset1}}
  }
 end_group
push $N461f9000
 Dot {
  name Dot6
  xpos -2527
  ypos -807
 }
set N606f1800 [stack 0]
 Input {
  inputs 0
  name texture
  xpos -3100
  ypos -1050
  number 3
 }
 Reformat {
  name Reformat4
  xpos -3100
  ypos -890
 }
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  name Copy2
  xpos -3100
  ypos -816
 }
 Premult {
  name Premult3
  xpos -3100
  ypos -730
 }
push $N606f1800
 Switch {
  inputs 2
  which {{parent.texture}}
  name Switch1
  xpos -2560
  ypos -490
 }
 Multiply {
  channels rgb
  value 0.03
  name Multiply2
  xpos -2560
  ypos -410
 }
 Grade {
  inputs 1+1
  multiply 10
  name Grade3
  label specular
  xpos -2560
  ypos -256
 }
 Grade {
  inputs 1+1
  multiply 0.05
  name Grade5
  label shadows
  xpos -2560
  ypos -176
 }
 Card2 {
  cast_shadow false
  receive_shadow false
  rows 2
  columns 2
  control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
  name Card1
  xpos -2560
  ypos 70
 }
 Scene {
  name Scene3
  xpos -2370
  ypos 450
 }
 Reformat {
  inputs 0
  type "to box"
  box_width {{parent.NoOp1.uv.u*2}}
  box_height {{parent.NoOp1.uv.v*2}}
  box_fixed true
  box_pixel_aspect {{parent.NoOp1.pixelaspect}}
  name Reformat3
  xpos -1480
  ypos 230
  hide_input true
 }
set Nc7a34400 [stack 0]
 Dot {
  name Dot8
  xpos -2527
  ypos 233
 }
set Nc7a34c00 [stack 0]
add_layer {position position.red position.green position.blue}
add_layer {normal normal.red normal.green normal.blue}
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing low
  overscan 300
  shutteroffset centred
  motion_vectors_type distance
  MB_channel motion
  output_shader_vectors true
  P_channel position
  N_channel normal
  name ScanlineRender3
  xpos -2560
  ypos 470
 }
 Dot {
  name Dot18
  xpos -2527
  ypos 953
 }
set Nc7a35400 [stack 0]
 ZDefocus2 {
  math depth
  center 0.05
  focal_point {360 539}
  size {{parent.defocus_1}}
  max_size 180
  filter_type bladed
  blades 7
  name ZDefocus2
  xpos -2560
  ypos 1184
  disable {{!parent.defocus x1072 0}}
 }
 set Cc7a35800 [stack 0]
 Dot {
  name Dot12
  xpos -2528
  ypos 2313
 }
 Group {
  name MS_cromatic1
  tile_color 0xefb500ff
  note_font "Verdana Bold Italic"
  xpos -1120
  ypos 2310
  disable {{!parent.abbrenable}}
  addUserKnob {20 User l "color shift"}
  addUserKnob {26 _1 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_Cromatic v.1.0</span></b>"}
  addUserKnob {26 ""}
  addUserKnob {7 amount l <b>amount R -0.02 0.02}
  amount {{parent.abbr}}
  addUserKnob {41 steps l "&nbsp;&nbsp;quality&nbsp;" -STARTLINE T GodRays1.steps}
  addUserKnob {26 text_1 l "<span style=\"color:#f00\"><b>Red</b></span>"}
  addUserKnob {41 translate_3 l translate T GodRays1.translate}
  addUserKnob {41 size_5 l "blur size" T Blur1.size}
  addUserKnob {26 text_2 l "<span style=\"color:#0f0\"><b>Green</b></span>"}
  addUserKnob {7 shiftgreen l "shift green" R -0.02 0.02}
  addUserKnob {41 translate_4 l translate T GodRays2.translate}
  addUserKnob {41 size_4 l "blur size" T Blur2.size}
  addUserKnob {26 text_3 l "<span style=\"color:#00f\"><b>Blue</b></span>"}
  addUserKnob {6 parentbluetored l "&nbsp;&nbsp;<i>parent blue to red" +STARTLINE}
  parentbluetored true
  addUserKnob {7 shiftblue l "shift blue" R -0.02 0.02}
  addUserKnob {41 translate_5 l translate T GodRays4.translate}
  addUserKnob {41 size_6 l "blur size" T Blur3.size}
  addUserKnob {26 ""}
  addUserKnob {41 maskChannel l "mask channel" T Keymix1.maskChannel}
  addUserKnob {41 invertMask l invert -STARTLINE T Keymix1.invertMask}
  addUserKnob {41 mix T Keymix1.mix}
  addUserKnob {6 keepalpha l "keep alpha" t "keep the alpha from the original" +STARTLINE}
  keepalpha true
  addUserKnob {6 crop l "preserve bounding box" t "keep input bounding box" -STARTLINE}
  crop true
  addUserKnob {20 fringe}
  addUserKnob {26 gradeedgefringe l "grade edge fringe"}
  addUserKnob {6 enablegrade l "enable coloring" +STARTLINE}
  addUserKnob {41 channels T Grade1.channels}
  addUserKnob {41 multiply T Grade1.multiply}
  addUserKnob {41 saturation T Saturation2.saturation}
  addUserKnob {20 info}
  addUserKnob {26 text l "" +STARTLINE T "<br><span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.0 - 2024 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
  addUserKnob {26 _2 l "" +STARTLINE T "<br><a href=\"https://youtu.be/PcjKT30k1rw\"><b><span style=\"color:#aaa\"><i>watch tutorial</span></b></a>"}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x8e8e3800
   label "cromatic abberation (var_1)"
   note_font_size 42
   xpos -651
   ypos -828
   bdwidth 780
   bdheight 598
  }
  Input {
   inputs 0
   name Input1
   xpos -400
   ypos -970
  }
  Dot {
   name Dot1
   xpos -367
   ypos -887
  }
set N79822400 [stack 0]
  Dot {
   name Dot2
   xpos -727
   ypos -886
  }
  Dot {
   name Dot13
   xpos -726
   ypos -166
  }
set N79822c00 [stack 0]
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.green 0 1 rgba.blue 0 2 rgba.blue 0 2 white -1 -1 rgba.alpha 0 3"
   name Shuffle1
   xpos -760
   ypos -90
  }
  Dot {
   name Dot3
   xpos -726
   ypos -6
  }
set N79823400 [stack 0]
  Dot {
   name Dot7
   xpos -726
   ypos 713
  }
push $N79822400
  Dot {
   name Dot21
   xpos 354
   ypos -886
  }
set N79823c00 [stack 0]
  Input {
   inputs 0
   name mask
   xpos -40
   ypos -120
   number 1
  }
  Dot {
   name Dot6
   xpos -6
   ypos -6
  }
  Invert {
   name Invert1
   xpos -220
   ypos -16
  }
push $N79823400
push $N79822400
  Dot {
   name Dot29
   xpos -367
   ypos -727
  }
set N5f110c00 [stack 0]
  Dot {
   name Dot16
   xpos -187
   ypos -727
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.red 0 0 black -1 -1 rgba.green 0 1 black -1 -1 rgba.alpha 0 3"
   name Shuffle12
   label BLUE
   xpos -220
   ypos -656
  }
set N5f111400 [stack 0]
  Dot {
   name Dot19
   xpos -7
   ypos -647
  }
  GodRays {
   channels rgb
   translate {{(parent.GodRays1.translate.x)*-1} {(parent.GodRays1.translate.y)*-1}}
   scale {{(1/parent.GodRays1.scale+(Add1.value))+(1-(GodRays1.scale))}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays6
   label BLUE
   xpos -39
   ypos -576
  }
  Dot {
   name Dot18
   xpos -7
   ypos -488
  }
push $N5f111400
  GodRays {
   channels rgb
   scale {{1+(Add1.value)}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays4
   label BLUE
   xpos -219
   ypos -576
  }
  Switch {
   inputs 2
   which {{parent.parentbluetored}}
   name Switch5
   xpos -220
   ypos -490
  }
  Blur {
   channels {-rgba.red -rgba.green rgba.blue none}
   name Blur3
   xpos -220
   ypos -410
  }
  Dot {
   name Dot8
   xpos -187
   ypos -328
  }
push 0
push $N5f110c00
  Dot {
   name Dot17
   xpos -550
   ypos -727
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 black -1 -1 rgba.green 0 1 black -1 -1 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
   name Shuffle10
   label "RED\n"
   xpos -582
   ypos -652
  }
  GodRays {
   channels rgb
   scale {{parent.amount+1}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps 4
   name GodRays1
   label RED
   xpos -582
   ypos -576
  }
  Blur {
   channels {rgba.red -rgba.green -rgba.blue none}
   name Blur1
   xpos -582
   ypos -410
  }
  Dot {
   name Dot5
   xpos -548
   ypos -326
  }
push $N5f110c00
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.green 0 1 rgba.green 0 1 black -1 -1 rgba.blue 0 2 black -1 -1 rgba.red 0 0 black -1 -1 rgba.alpha 0 3"
   name Shuffle11
   label "GREEN\n"
   xpos -399
   ypos -656
  }
  GodRays {
   channels rgb
   scale {{(1/parent.GodRays1.scale)+shiftgreen}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays2
   label GREEN
   xpos -400
   ypos -576
  }
  Blur {
   channels {-rgba.red rgba.green -rgba.blue none}
   name Blur2
   xpos -400
   ypos -410
  }
  Merge2 {
   inputs 3+1
   operation plus
   name Merge6
   xpos -400
   ypos -330
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos -400
   ypos -15
  }
set N9381b400 [stack 0]
push $N79822c00
  Dot {
   name Dot4
   xpos -546
   ypos -166
  }
push $N9381b400
  Copy {
   inputs 2
   from0 rgba.alpha
   to0 rgba.alpha
   name Copy1
   xpos -580
   ypos 144
  }
  Switch {
   inputs 2
   which {{!parent.keepalpha}}
   name keep_alpha
   xpos -400
   ypos 150
  }
set Ncc002d00 [stack 0]
  Merge2 {
   inputs 2
   operation difference
   name Merge5
   xpos 320
   ypos 150
  }
  Saturation {
   saturation 0
   name Saturation1
   xpos 320
   ypos 230
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.red 0 0 rgba.blue 0 2 rgba.red 0 0 rgba.alpha 0 3"
   name Shuffle9
   xpos 320
   ypos 310
  }
  Grade {
   channels rgba
   whitepoint 0.19
   white_clamp true
   name Grade2
   xpos 320
   ypos 390
  }
  Dot {
   name Dot22
   xpos 354
   ypos 474
  }
  Dot {
   name Dot25
   xpos -186
   ypos 474
  }
set N7ca8f400 [stack 0]
  Dot {
   name Dot26
   xpos -186
   ypos 554
  }
push $N7ca8f400
push $Ncc002d00
  Dot {
   name Dot27
   xpos -367
   ypos 394
  }
set N7ca8fc00 [stack 0]
  Grade {
   inputs 1+1
   white 1.02
   multiply {1 0.6708187461 0.05138373375 1}
   name Grade1
   xpos -400
   ypos 472
  }
  Saturation {
   inputs 1+1
   name Saturation2
   xpos -400
   ypos 550
  }
push $N7ca8fc00
  Dot {
   name Dot28
   xpos -546
   ypos 394
  }
  Dot {
   name Dot24
   xpos -546
   ypos 634
  }
  Switch {
   inputs 2
   which {{parent.enablegrade}}
   name Switch2
   xpos -400
   ypos 630
  }
  CopyBBox {
   inputs 2
   name CopyBBox1
   xpos -400
   ypos 710
  }
  Crop {
   box {0 0 {parent.NoOp2.uv.u} {parent.NoOp2.uv.v}}
   name Crop1
   xpos -401
   ypos 790
   disable {{parent.crop}}
  }
  Output {
   name Output1
   xpos -400
   ypos 994
  }
push $N79823c00
  Dot {
   name Dot20
   label " input"
   note_font "Verdana Bold"
   xpos -186
   ypos 714
   hide_input true
  }
  NoOp {
   name NoOp2
   xpos -220
   ypos 790
   addUserKnob {20 User}
   addUserKnob {30 uv}
   uv {{"\[value input.format.r]"} {"\[value input.format.t]"}}
   addUserKnob {6 color_rgba_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
   addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
  }
  Add {
   inputs 0
   value {{parent.shiftblue}}
   name Add1
   tile_color 0xa92b2bff
   xpos -39
   ypos -408
   hide_input true
  }
 end_group
push $N6242dc00
push $N606f1800
push $N87869800
 Dot {
  name Dot5
  xpos -1807
  ypos -1287
 }
 Transform {
  scale 0.98
  center {960 540}
  name Transform2
  xpos -1840
  ypos -892
 }
 Merge2 {
  inputs 2
  operation stencil
  name Merge3
  xpos -1840
  ypos -809
 }
add_layer {inside_scope inside_scope.red inside_scope.green inside_scope.blue inside_scope.alpha}
 Shuffle2 {
  fromInput1 {{0} B}
  out1 inside_scope
  fromInput2 {{0} B}
  mappings "4 rgba.red 0 0 inside_scope.red 0 0 rgba.green 0 1 inside_scope.green 0 1 rgba.blue 0 2 inside_scope.blue 0 2 rgba.alpha 0 3 inside_scope.alpha 0 3"
  name Shuffle1
  label "\[value in1]"
  xpos -1300
  ypos -336
 }
 Remove {
  channels rgb
  name Remove1
  xpos -1300
  ypos -170
 }
 Transform {
  scale {{1+((parent.patch)/20)}}
  center {960 540}
  name Transform4
  xpos -1300
  ypos -90
 }
 Card2 {
  rows 2
  columns 2
  control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
  name Card3
  xpos -1301
  ypos 70
 }
push $N6242dc00
 Dot {
  name Dot10
  xpos -2707
  ypos -7
 }
 Input {
  inputs 0
  name plate
  xpos -940
  ypos -330
  number 2
 }
 Constant {
  inputs 0
  color {0 0 0 1}
  name Constant2
  xpos -760
  ypos -354
 }
 Reformat {
  type "to box"
  box_width {{parent.NoOp1.uv.u*2}}
  box_height {{parent.NoOp1.uv.v*2}}
  box_fixed true
  box_pixel_aspect {{parent.NoOp1.pixelaspect}}
  name Reformat2
  xpos -760
  ypos -250
 }
 Switch {
  inputs 2
  which {{parent.enablebg}}
  name Switch3
  xpos -940
  ypos -250
 }
 Multiply {
  value 0.7
  name Multiply1
  xpos -940
  ypos -176
  disable {{!parent.enabbbright}}
 }
 Project3D2 {
  inputs 2
  crop false
  name Project3D1
  xpos -941
  ypos -9
 }
 Card2 {
  rows 2
  columns 2
  translate {0 0 -2}
  uniform_scale 5
  control_points {3 3 3 6 

1 {-0.5 -0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0 0 0} 
1 {0 -0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {0.5 0 0} 
1 {0.5 -0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666865 0} 0 {0 0 0} 0 {1 0 0} 
1 {-0.5 0 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0 0.5 0} 
1 {0 0 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {0.5 0.5 0} 
1 {0.5 0 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0.1666666716 0} 0 {0 -0.1666666716 0} 0 {1 0.5 0} 
1 {-0.5 0.5 0} 0 {0.1666666865 0 0} 0 {0 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0 1 0} 
1 {0 0.5 0} 0 {0.1666666716 0 0} 0 {-0.1666666716 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {0.5 1 0} 
1 {0.5 0.5 0} 0 {0 0 0} 0 {-0.1666666865 0 0} 0 {0 0 0} 0 {0 -0.1666666865 0} 0 {1 1 0} }
  name Card2
  xpos -941
  ypos 70
 }
 Scene {
  inputs 2
  name Scene1
  xpos -1110
  ypos 290
 }
push $Nc7a34400
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing medium
  overscan 300
  shutteroffset centred
  motion_vectors_type distance
  MB_channel motion
  output_shader_vectors true
  P_channel position
  N_channel normal
  name ScanlineRender1
  xpos -1480
  ypos 311
 }
set N1d500800 [stack 0]
 Shuffle2 {
  fromInput1 {{0} B}
  in1 inside_scope
  fromInput2 {{0} B}
  mappings "4 inside_scope.alpha 0 3 rgba.red 0 0 inside_scope.alpha 0 3 rgba.green 0 1 inside_scope.alpha 0 3 rgba.blue 0 2 inside_scope.alpha 0 3 rgba.alpha 0 3"
  name Shuffle2
  label "\[value in1]"
  xpos -1661
  ypos 384
 }
 Dilate {
  size 9
  name Dilate2
  xpos -1661
  ypos 464
 }
 Invert {
  name Invert1
  xpos -1661
  ypos 544
 }
push $N1d500800
 Copy {
  inputs 2
  from0 rgba.alpha
  to0 rgba.alpha
  name Copy1
  xpos -1480
  ypos 544
 }
 Premult {
  name Premult1
  xpos -1480
  ypos 630
 }
 Add {
  channels depth
  value -0.15
  name Add1
  xpos -1480
  ypos 704
 }
 Dilate {
  channels depth
  size -2
  name Dilate1
  xpos -1480
  ypos 784
 }
 Dot {
  name Dot19
  xpos -1447
  ypos 873
 }
set Nc3f60800 [stack 0]
clone $Cc7a35800 {
  xpos -1480
  ypos 1184
  selected false
 }
set Nc3f60c00 [stack 0]
 Dot {
  name Dot7
  xpos -1628
  ypos 1353
 }
push $N6242dc00
 Dot {
  name Dot29
  xpos -3067
  ypos 472
 }
 Light3 {
  inputs 0
  intensity 0.7
  translate {0.4939999878 0.6620000005 -0.5720000267}
  name Light2
  xpos -4530
  ypos 130
 }
 Light3 {
  inputs 0
  intensity 0.7
  translate {-0.4920000136 0.4230000079 -0.1879999936}
  name Light1
  xpos -4350
  ypos 50
 }
 BasicMaterial {
  inputs 0
  diffuse 0.05
  specular 0.2
  min_shininess -1
  name BasicMaterial1
  xpos -3820
  ypos -250
 }
 Constant {
  inputs 0
  channels rgb
  color 0.02
  name Constant1
  xpos -3640
  ypos -834
 }
 Shuffle2 {
  fromInput1 {{0} B}
  fromInput2 {{0} B}
  mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.green 0 1 rgba.blue 0 2 rgba.blue 0 2 white -1 -1 rgba.alpha 0 3"
  name Shuffle3
  label "\[value in1]"
  xpos -3640
  ypos -736
 }
set N5f1e8800 [stack 0]
 Cylinder {
  rows 0
  columns 24
  radius 0.044
  height 0.13
  close_top true
  close_bottom true
  translate {0 -0.01620000042 0}
  name Cylinder3
  xpos -3460
  ypos -570
 }
push $N5f1e8800
 Cylinder {
  rows 0
  columns 24
  radius 0.044
  height 0.02
  close_top true
  close_bottom true
  translate {0 0.08240000159 0}
  name Cylinder2
  xpos -3640
  ypos -570
 }
push $N5f1e8800
 Cylinder {
  rows 0
  columns 24
  radius 0.04
  height 0.18
  close_top true
  translate {0 0.0055999998 0}
  name Cylinder1
  xpos -3820
  ypos -570
 }
 Scene {
  inputs 3
  name Scene2
  xpos -3630
  ypos -430
 }
 ApplyMaterial {
  inputs 2
  name ApplyMaterial1
  xpos -3640
  ypos -250
 }
 Dot {
  name Dot27
  xpos -3607
  ypos -167
 }
set N5e762000 [stack 0]
 TransformGeo {
  translate {0 {pivot_translate.y*-1 x1072 0.0700000003} -0.5479999781}
  rotate {0 0 {"flipside==1 ? 90 : -90"}}
  scaling {{parent.TransformGeo1.scaling.x} {parent.TransformGeo1.scaling.y} {parent.TransformGeo1.scaling.z}}
  uniform_scale 2.3
  pivot_translate {0 {parent.TransformGeo1.pivot_translate.y} 0}
  name TransformGeo2
  xpos -3640
  ypos -10
 }
 Switch {
  which {{"wheelsam==1 ? 1:0"}}
  name Switch6
  xpos -3640
  ypos 70
 }
push $N5e762000
 TransformGeo {
  translate {0 {pivot_translate.y*-1 x1072 0.0700000003} -0.5479999781}
  scaling {{parent.wheelw} {parent.wheelh} {scaling.x}}
  uniform_scale 2.3
  pivot_translate {0 {parent.wheelh*-0.12} 0}
  name TransformGeo1
  xpos -3820
  ypos -10
 }
 Switch {
  which {{"wheelsam==0 ? 1:0"}}
  name Switch5
  xpos -3820
  ypos 70
 }
 Scene {
  inputs 4
  name Scene4
  xpos -3630
  ypos 130
 }
 Scene {
  name Scene5
  xpos -3630
  ypos 450
 }
push $Nc7a34c00
 Dot {
  name Dot28
  xpos -3248
  ypos 233
 }
 ScanlineRender {
  inputs 3
  conservative_shader_sampling false
  antialiasing low
  overscan 300
  shutteroffset centred
  motion_vectors_type distance
  MB_channel motion
  output_shader_vectors true
  P_channel position
  N_channel normal
  name ScanlineRender2
  xpos -3280
  ypos 470
 }
clone $Cc7a35800 {
  xpos -3280
  ypos 1184
  selected false
 }
 Dot {
  name Dot33
  xpos -3248
  ypos 2153
 }
 Merge2 {
  inputs 2
  operation mask
  name Merge9
  xpos -1660
  ypos 2150
 }
 Group {
  name MS_cromatic
  tile_color 0xefb500ff
  note_font "Verdana Bold Italic"
  xpos -1120
  ypos 2150
  disable {{!parent.abbrenable}}
  addUserKnob {20 User l "color shift"}
  addUserKnob {26 _1 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_Cromatic v.1.0</span></b>"}
  addUserKnob {26 ""}
  addUserKnob {7 amount l <b>amount R -0.02 0.02}
  amount {{parent.abbr}}
  addUserKnob {41 steps l "&nbsp;&nbsp;quality&nbsp;" -STARTLINE T GodRays1.steps}
  addUserKnob {26 text_1 l "<span style=\"color:#f00\"><b>Red</b></span>"}
  addUserKnob {41 translate_3 l translate T GodRays1.translate}
  addUserKnob {41 size_5 l "blur size" T Blur1.size}
  addUserKnob {26 text_2 l "<span style=\"color:#0f0\"><b>Green</b></span>"}
  addUserKnob {7 shiftgreen l "shift green" R -0.02 0.02}
  addUserKnob {41 translate_4 l translate T GodRays2.translate}
  addUserKnob {41 size_4 l "blur size" T Blur2.size}
  addUserKnob {26 text_3 l "<span style=\"color:#00f\"><b>Blue</b></span>"}
  addUserKnob {6 parentbluetored l "&nbsp;&nbsp;<i>parent blue to red" +STARTLINE}
  parentbluetored true
  addUserKnob {7 shiftblue l "shift blue" R -0.02 0.02}
  addUserKnob {41 translate_5 l translate T GodRays4.translate}
  addUserKnob {41 size_6 l "blur size" T Blur3.size}
  addUserKnob {26 ""}
  addUserKnob {41 maskChannel l "mask channel" T Keymix1.maskChannel}
  addUserKnob {41 invertMask l invert -STARTLINE T Keymix1.invertMask}
  addUserKnob {41 mix T Keymix1.mix}
  addUserKnob {6 keepalpha l "keep alpha" t "keep the alpha from the original" +STARTLINE}
  keepalpha true
  addUserKnob {6 crop l "preserve bounding box" t "keep input bounding box" -STARTLINE}
  crop true
  addUserKnob {20 fringe}
  addUserKnob {26 gradeedgefringe l "grade edge fringe"}
  addUserKnob {6 enablegrade l "enable coloring" +STARTLINE}
  addUserKnob {41 channels T Grade1.channels}
  addUserKnob {41 multiply T Grade1.multiply}
  addUserKnob {41 saturation T Saturation2.saturation}
  addUserKnob {20 info}
  addUserKnob {26 text l "" +STARTLINE T "<br><span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.0 - 2024 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
  addUserKnob {26 _2 l "" +STARTLINE T "<br><a href=\"https://youtu.be/PcjKT30k1rw\"><b><span style=\"color:#aaa\"><i>watch tutorial</span></b></a>"}
 }
  BackdropNode {
   inputs 0
   name BackdropNode1
   tile_color 0x8e8e3800
   label "cromatic abberation (var_1)"
   note_font_size 42
   xpos -651
   ypos -828
   bdwidth 780
   bdheight 598
  }
  Input {
   inputs 0
   name Input1
   xpos -400
   ypos -970
  }
  Dot {
   name Dot1
   xpos -367
   ypos -887
  }
set Na994cc00 [stack 0]
  Dot {
   name Dot2
   xpos -727
   ypos -886
  }
  Dot {
   name Dot13
   xpos -726
   ypos -166
  }
set Na994d400 [stack 0]
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.green 0 1 rgba.blue 0 2 rgba.blue 0 2 white -1 -1 rgba.alpha 0 3"
   name Shuffle1
   xpos -760
   ypos -90
  }
  Dot {
   name Dot3
   xpos -726
   ypos -6
  }
set Na994dc00 [stack 0]
  Dot {
   name Dot7
   xpos -726
   ypos 713
  }
push $Na994cc00
  Dot {
   name Dot21
   xpos 354
   ypos -886
  }
set Na990c400 [stack 0]
  Input {
   inputs 0
   name mask
   xpos -40
   ypos -120
   number 1
  }
  Dot {
   name Dot6
   xpos -6
   ypos -6
  }
  Invert {
   name Invert1
   xpos -220
   ypos -16
  }
push $Na994dc00
push $Na994cc00
  Dot {
   name Dot29
   xpos -367
   ypos -727
  }
set Na990d400 [stack 0]
  Dot {
   name Dot16
   xpos -187
   ypos -727
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.blue 0 2 rgba.blue 0 2 black -1 -1 rgba.red 0 0 black -1 -1 rgba.green 0 1 black -1 -1 rgba.alpha 0 3"
   name Shuffle12
   label BLUE
   xpos -220
   ypos -656
  }
set Na990dc00 [stack 0]
  Dot {
   name Dot19
   xpos -7
   ypos -647
  }
  GodRays {
   channels rgb
   translate {{(parent.GodRays1.translate.x)*-1} {(parent.GodRays1.translate.y)*-1}}
   scale {{(1/parent.GodRays1.scale+(Add1.value))+(1-(GodRays1.scale))}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays6
   label BLUE
   xpos -39
   ypos -576
  }
  Dot {
   name Dot18
   xpos -7
   ypos -488
  }
push $Na990dc00
  GodRays {
   channels rgb
   scale {{1+(Add1.value)}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays4
   label BLUE
   xpos -219
   ypos -576
  }
  Switch {
   inputs 2
   which {{parent.parentbluetored}}
   name Switch5
   xpos -220
   ypos -490
  }
  Blur {
   channels {-rgba.red -rgba.green rgba.blue none}
   name Blur3
   xpos -220
   ypos -410
  }
  Dot {
   name Dot8
   xpos -187
   ypos -328
  }
push 0
push $Na990d400
  Dot {
   name Dot17
   xpos -550
   ypos -727
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 black -1 -1 rgba.green 0 1 black -1 -1 rgba.blue 0 2 black -1 -1 rgba.alpha 0 3"
   name Shuffle10
   label "RED\n"
   xpos -582
   ypos -652
  }
  GodRays {
   channels rgb
   scale {{parent.amount+1}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps 4
   name GodRays1
   label RED
   xpos -582
   ypos -576
  }
  Blur {
   channels {rgba.red -rgba.green -rgba.blue none}
   name Blur1
   xpos -582
   ypos -410
  }
  Dot {
   name Dot5
   xpos -548
   ypos -326
  }
push $Na990d400
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.green 0 1 rgba.green 0 1 black -1 -1 rgba.blue 0 2 black -1 -1 rgba.red 0 0 black -1 -1 rgba.alpha 0 3"
   name Shuffle11
   label "GREEN\n"
   xpos -399
   ypos -656
  }
  GodRays {
   channels rgb
   scale {{(1/parent.GodRays1.scale)+shiftgreen}}
   center {{parent.Crop1.box.r/2} {parent.Crop1.box.t/2}}
   steps {{parent.GodRays1.steps}}
   name GodRays2
   label GREEN
   xpos -400
   ypos -576
  }
  Blur {
   channels {-rgba.red rgba.green -rgba.blue none}
   name Blur2
   xpos -400
   ypos -410
  }
  Merge2 {
   inputs 3+1
   operation plus
   name Merge6
   xpos -400
   ypos -330
  }
  Keymix {
   inputs 3
   name Keymix1
   xpos -400
   ypos -15
  }
set Nc4097c00 [stack 0]
push $Na994d400
  Dot {
   name Dot4
   xpos -546
   ypos -166
  }
push $Nc4097c00
  Copy {
   inputs 2
   from0 rgba.alpha
   to0 rgba.alpha
   name Copy1
   xpos -580
   ypos 144
  }
  Switch {
   inputs 2
   which {{!parent.keepalpha}}
   name keep_alpha
   xpos -400
   ypos 150
  }
set N5e625900 [stack 0]
  Merge2 {
   inputs 2
   operation difference
   name Merge5
   xpos 320
   ypos 150
  }
  Saturation {
   saturation 0
   name Saturation1
   xpos 320
   ypos 230
  }
  Shuffle2 {
   fromInput1 {{0} B}
   fromInput2 {{0} B}
   mappings "4 rgba.red 0 0 rgba.red 0 0 rgba.red 0 0 rgba.green 0 1 rgba.red 0 0 rgba.blue 0 2 rgba.red 0 0 rgba.alpha 0 3"
   name Shuffle9
   xpos 320
   ypos 310
  }
  Grade {
   channels rgba
   whitepoint 0.19
   white_clamp true
   name Grade2
   xpos 320
   ypos 390
  }
  Dot {
   name Dot22
   xpos 354
   ypos 474
  }
  Dot {
   name Dot25
   xpos -186
   ypos 474
  }
set N5f4b3c00 [stack 0]
  Dot {
   name Dot26
   xpos -186
   ypos 554
  }
push $N5f4b3c00
push $N5e625900
  Dot {
   name Dot27
   xpos -367
   ypos 394
  }
set N5e6c4400 [stack 0]
  Grade {
   inputs 1+1
   white 1.02
   multiply {1 0.6708187461 0.05138373375 1}
   name Grade1
   xpos -400
   ypos 472
  }
  Saturation {
   inputs 1+1
   name Saturation2
   xpos -400
   ypos 550
  }
push $N5e6c4400
  Dot {
   name Dot28
   xpos -546
   ypos 394
  }
  Dot {
   name Dot24
   xpos -546
   ypos 634
  }
  Switch {
   inputs 2
   which {{parent.enablegrade}}
   name Switch2
   xpos -400
   ypos 630
  }
  CopyBBox {
   inputs 2
   name CopyBBox1
   xpos -400
   ypos 710
  }
  Crop {
   box {0 0 {parent.NoOp2.uv.u} {parent.NoOp2.uv.v}}
   name Crop1
   xpos -401
   ypos 790
   disable {{parent.crop}}
  }
  Output {
   name Output1
   xpos -400
   ypos 994
  }
push $Na990c400
  Dot {
   name Dot20
   label " input"
   note_font "Verdana Bold"
   xpos -186
   ypos 714
   hide_input true
  }
  NoOp {
   name NoOp2
   xpos -220
   ypos 790
   addUserKnob {20 User}
   addUserKnob {30 uv}
   uv {{"\[value input.format.r]"} {"\[value input.format.t]"}}
   addUserKnob {6 color_rgba_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
   addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
  }
  Add {
   inputs 0
   value {{parent.shiftblue}}
   name Add1
   tile_color 0xa92b2bff
   xpos -39
   ypos -408
   hide_input true
  }
 end_group
push $Nc3f60c00
 Dot {
  name Dot9
  xpos -1447
  ypos 2072
 }
push $Nc7a35400
push $Nc3f60800
 Dot {
  name Dot20
  xpos -1268
  ypos 873
 }
 Merge2 {
  inputs 2
  name Merge6
  xpos -1300
  ypos 950
 }
 Dot {
  name Dot21
  xpos -1267
  ypos 1673
 }
set N581a1c00 [stack 0]
 Dilate {
  size -50
  name Dilate3
  xpos -1300
  ypos 1984
 }
 Input {
  inputs 0
  name target
  xpos -220
  ypos -90
 }
 NoOp {
  name NoOp1
  xpos -220
  ypos -10
  addUserKnob {20 User}
  addUserKnob {30 uv}
  uv {{"\[value input.format.r]/2"} {"\[value input.format.t]/2"}}
  addUserKnob {7 pixelaspect l "pixel aspect"}
  pixelaspect {{"\[value pixel_aspect]"}}
 }
 Constant {
  inputs 0
  color {0 0 0 0}
  name Constant3
  xpos -40
  ypos -34
 }
 Reformat {
  type "to box"
  box_width {{parent.NoOp1.uv.u*2}}
  box_height {{parent.NoOp1.uv.v*2}}
  box_fixed true
  box_pixel_aspect {{parent.NoOp1.pixelaspect}}
  name Reformat6
  xpos -40
  ypos 70
 }
 Switch {
  inputs 2
  which {{parent.targetenable}}
  name Switch4
  xpos -220
  ypos 70
 }
 Dot {
  name Dot24
  xpos -187
  ypos 153
 }
set Nd252b800 [stack 0]
 Dot {
  name Dot25
  xpos -367
  ypos 153
 }
 Dot {
  name Dot11
  xpos -367
  ypos 793
 }
set N8e858000 [stack 0]
push $Nd252b800
 Grade {
  black {0.007799999788 0.01159999985 0.01059999969 0.009999999776}
  name Grade1
  xpos -221
  ypos 230
  disable {{!parent.liftenable}}
 }
 Transform {
  scale {{parent.zoom}}
  center {{parent.NoOp1.uv} {parent.NoOp1.uv}}
  name Transform5
  label zoom?
  xpos -221
  ypos 303
  disable {{!parent.enablezoom}}
 }
 Crop {
  box {{"((\[value input.format.r]-\[value input.format.t])/2)-grow"} {0-grow} {"((\[value input.format.r]+\[value input.format.t])/2)+grow"} {"(\[value input.format.t])+grow"}}
  name Crop3
  xpos -221
  ypos 470
  addUserKnob {20 User}
  addUserKnob {7 grow R 0 500}
  grow 500
 }
 Blur {
  size 2
  name Blur3
  xpos -221
  ypos 544
  disable {{!parent.benab}}
 }
 LensDistortion2 {
  distortionDenominator0 {{(parent.lensdist*0.05*-1)}}
  distortionDenominator1 {{(parent.lensdist*0.3*-1)}}
  output Undistort
  bboxType Input
  outputFormatType BBox
  featuresKnob "
version 1
entries 0
entries 0
"
  distortionModelDisplayX "xu = xd / (1 + k0 * rd^2 + k1 * rd^4)"
  distortionModelDisplayY "yu = yd / (1 + k0 * rd^2 + k1 * rd^4)"
  name LensDistortion1
  xpos -221
  ypos 624
  disable {{!parent.enabledist}}
 }
 Group {
  name Chromatik
  help "Chromatic aberration node using a real spectral gradient."
  tile_color 0x8c2185ff
  note_font "Verdana Bold"
  xpos -221
  ypos 716
  disable {{!parent.crom_1}}
  addUserKnob {20 User l Chromatik}
  addUserKnob {41 center l "Center Point" T RadialVectorGenerator1.center}
  addUserKnob {22 setcenter l "set center" -STARTLINE T "n = nuke.thisGroup()\nw = n.width()\nh = n.height()\nprint (w,h)\nn\['center'].setValue(\[w/2,h/2])"}
  addUserKnob {41 ratio l "Aspect Ratio" T RadialVectorGenerator1.ratio}
  addUserKnob {26 ""}
  addUserKnob {41 Multiplier l Size T Vector_Chromatic.Multiplier}
  addUserKnob {7 offsetcolor l "offset color"}
  addUserKnob {7 smooth l "smooth transition" t "smooth transition between colors" R 1 5}
  smooth 1
  addUserKnob {26 ""}
  addUserKnob {41 protect l "Protect Center" T RadialVectorGenerator1.protect}
  addUserKnob {41 gamma l "Falloff Hardness" T RadialVectorGenerator1.gamma}
  addUserKnob {41 rotate l Swirl T RadialVectorGenerator1.rotate}
  addUserKnob {26 ""}
  addUserKnob {41 saturation l Saturation T Vector_Chromatic.saturation}
  addUserKnob {41 offset l Offset T Vector_Chromatic.offset}
  addUserKnob {26 ""}
  addUserKnob {41 min l "Min Samples" T Vector_Chromatic.min}
  addUserKnob {41 max l "Max Samples" -STARTLINE T Vector_Chromatic.max}
  addUserKnob {26 ""}
  addUserKnob {6 maskinvert l "invert mask" +STARTLINE}
  addUserKnob {26 ""}
  addUserKnob {26 spin_copyright l "" t "© <b>SPIN<span style=\"color:#b32026\">VFX</span></b>\nChromatik\nVersion 1.1\n2018" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:8pt\"><b>SPIN<span style=\"color:#b32026\">VFX</span></b> - Version 1.1 - 2018 - <a href=\"https://github.com/SpinVFX/spin_nuke_gizmos/\" style=\"color:#aaa\">Github Page</a></span>"}
 }
  Input {
   inputs 0
   name Input
   xpos 860
   ypos -570
  }
  Dot {
   name Dot52
   tile_color 0xcccccc00
   xpos 894
   ypos -486
  }
set N8e859c00 [stack 0]
  Dot {
   name Dot2
   xpos 1074
   ypos -486
  }
  NoOp {
   name inres
   xpos 1040
   ypos -410
   addUserKnob {20 User}
   addUserKnob {30 uv}
   uv {{"\[value input.format.r]"} {"\[value input.format.t]"}}
  }
  Group {
   name RadialVectorGenerator1
   xpos 1040
   ypos 70
   disable {{"!\[exists parent.input]"}}
   addUserKnob {20 genTab l Generator}
   addUserKnob {12 center l "Center Point" t "Center of the Radial vectors"}
   center {{parent.parent.NoOp1.uv} {parent.parent.NoOp1.uv}}
   addUserKnob {7 ratio l "Aspect Ratio" t "Distort the circle to a different aspect ratio." R 0.5 2}
   ratio 1
   addUserKnob {26 ""}
   addUserKnob {7 protect l "Protect Center" t "Create an area around your center that won't be affected by vectors. (0,0 vectors)\nOther vectors will be spread around that center so that there isn't a sharp transition.\n\nA value of 1 or above would protect the whole image, not producting any vectors."}
   addUserKnob {7 gamma l Gamma t "Gamma the magnitude of the vectors, to create a sharper or smoother transition between the center and the outskirt areas." R 0.1 2}
   gamma 1
   addUserKnob {26 ""}
   addUserKnob {7 rotate l Rotate t "Rotating the vectors can create either a zoom type of vectors (0, 180 rotation), a spin (90, 270 rotation) or a swirl for any value in between." R 0 360}
   addUserKnob {7 multiply l Multiply t "Multpilies the overall value/length of the vectors." R 0 10}
   multiply 1
  }
   Input {
    inputs 0
    name Input1
    xpos -940
    ypos 70
   }
   Expression {
    expr0 x/width
    expr1 y/height
    expr2 0
    name Expression1
    xpos -940
    ypos 150
   }
   BlinkScript {
    recompileCount 28
    ProgramGroup 1
    KernelDescription "3 \"RadialVectors\" iterate pixelWise 022dfefcb578cac450e99b3e9eaa966ae848c25352f9d35bd31e5f1e18b9e87e 2 \"src\" Read Point \"dst\" Write Point 7 \"Aspect Ratio\" Float 1 AACAPw== \"Center\" Float 2 AACAPwAAgD8= \"Protect Center\" Float 1 AAAAAA== \"Rotate Vectors\" Float 1 AAAAAA== \"Gamma\" Float 1 AACAPw== \"Multiply\" Float 1 AACAPw== \"size\" Float 2 AAAAAAAAAAA= 7 \"ratio\" 1 1 Default \"center\" 2 1 Default \"protect\" 1 1 Default \"rotate\" 1 1 Default \"gamma\" 1 1 Default \"multiply\" 1 1 Default \"size\" 2 1 Default 1 \"_imgDiag\" Float 1 1 AAAAAA=="
    kernelSource "kernel RadialVectors : ImageComputationKernel<ePixelWise>\n\{\n  Image<eRead, eAccessPoint, eEdgeClamped> src;  //the input image\n  Image<eWrite> dst;  //the output image\n\n  param:\n    float ratio;  //This parameter is made available to the user.\n    float2 center;\n    float protect;\n    float rotate;\n    float gamma;\n    float multiply;\n    float2 size;\n\n  local:\n\n    float _imgDiag; //Image diagonal\n\n  //In define(), parameters can be given labels and default values.\n  void define() \{\n    defineParam(ratio, \"Aspect Ratio\", 1.0f);\n    defineParam(center, \"Center\", float2(1.0f,1.0f));\n    defineParam(protect, \"Protect Center\", 0.0f);\n    defineParam(rotate, \"Rotate Vectors\", 0.0f);\n    defineParam(gamma, \"Gamma\", 1.0f);\n    defineParam(multiply, \"Multiply\", 1.0f);\n  \}\n\n  //The init() function is run before any calls to kernel().\n  void init() \{\n    _imgDiag = length(size);\n  \}\n\n  //The kernel function is run at every pixel to produce the output.\n  void process(int2 pos) \{\n    //float2 posf = float2(pos.x, pos.y);\n    float2 posf = float2(src(0)*size.x, src(1)*size.y);\n    float2 v = posf-center;\n    v = v/(_imgDiag/2.0f);\n    \n    // Edit vector magnitude: Blackpoint+clamp for protecting center\n    if (protect < (1.0f))\{ //If we protect the whole image then we don't need to output any vectors\n      // Edit aspect Ratio\n      v = float2(v.x, v.y * ratio);\n      // Find vector Magnitude so that can be edited \n      float magv = length(v);\n\n      magv = max((magv - protect) / (1-protect),0.0f);\n      magv = pow(magv, 1/gamma);\n      float2 normv;\n      if (magv>0)\{\n        normv = normalize(v);\n      \}\n      else \{\n        normv = float2(1.0f, 0.0f);\n      \}\n      v = normv * magv;\n      // Rotate Normals\n      if (rotate != 0.0f)\{\n        float r = rotate * 3.141592653589793f / 180.0f;\n        v = float2( v.x * cos(r) - v.y * sin(r), v.x * sin(r) + v.y * cos(r));\n      \}\n      // Multiply Output\n      //v = v * (_imgDiag/4) * multiply;\n      v = v * multiply;\n      dst() = float4(v.x, v.y, 0.0f, 0.0f);\n      //dst() = float4(magv, magv, magv, 0.0f);\n    \}\n    else\{\n      dst() = float4(0.0f);\n    \}\n\n   \}\n\};\n\n"
    rebuild ""
    "RadialVectors_Aspect Ratio" {{parent.ratio}}
    RadialVectors_Center {{parent.center} {parent.center}}
    "RadialVectors_Protect Center" {{parent.protect}}
    "RadialVectors_Rotate Vectors" {{parent.rotate}}
    RadialVectors_Gamma {{parent.gamma}}
    RadialVectors_Multiply {{parent.multiply}}
    RadialVectors_size {{width} {height}}
    rebuild_finalise ""
    name BlinkScript8
    xpos -940
    ypos 224
   }
   Output {
    name Output1
    xpos -940
    ypos 310
   }
   StickyNote {
    inputs 0
    name StickyNote1
    label "We base the calculation on a modified STMAP instead of actual x/y because blinkscript doesn't handle proxy res very well"
    xpos -820
    ypos 230
   }
  end_group
  Dot {
   name Dot1
   tile_color 0xcccccc00
   xpos 1074
   ypos 234
  }
push $N8e859c00
  Group {
   inputs 2
   name Vector_Chromatic
   xpos 860
   ypos 231
   disable {{"!\[exists parent.input]"}}
   addUserKnob {20 Chromatik}
   addUserKnob {26 title l "Generate Gradient"}
   addUserKnob {41 lut l "" -STARTLINE T ColorLookup1.lut}
   addUserKnob {6 clampg l "Clamp Gradient" +STARTLINE}
   clampg true
   addUserKnob {7 saturation l Saturation R 0 2}
   saturation 1
   addUserKnob {26 ""}
   addUserKnob {7 Multiplier R 0 250}
   Multiplier {{parent.parent.crom}}
   addUserKnob {7 offset l Offset t "Negate Vectors (-1)\nCenter Vectors (0)\nRegular Vectors (1)" R -1 1}
   addUserKnob {26 ""}
   addUserKnob {3 min l "Min Samples" t "How many times the operation will be run.\nHigher Values = Smoother result = Slower render"}
   min 5
   addUserKnob {3 max l "Max Samples" t "How many times the operation will be run.\nHigher Values = Smoother result = Slower render" -STARTLINE}
   max 150
   addUserKnob {6 normalize l Normalize t "Conserves original color better" +STARTLINE}
   normalize true
   addUserKnob {6 XYZ_space t "Process in XYZ space." -STARTLINE}
   addUserKnob {6 bbox l "BBox Union" t "Union the BBox of the image and the vectormap rather than using the image's bbox" -STARTLINE}
  }
   BackdropNode {
    inputs 0
    name BackdropNode1
    tile_color 0x71c67100
    label "Gradient Generator"
    note_font_size 42
    xpos 89
    ypos -837
    bdwidth 573
    bdheight 711
   }
   Input {
    inputs 0
    name Img
    xpos -40
    ypos -1050
   }
   Dot {
    name Dot3
    xpos -6
    ypos -886
   }
set N832fc400 [stack 0]
   Input {
    inputs 0
    name Vector_Map
    xpos 680
    ypos -1050
    number 1
   }
   CopyBBox {
    inputs 2
    name CopyBBox1
    xpos 680
    ypos -889
    disable {{parent.bbox}}
   }
   Dot {
    name Dot1
    tile_color 0x9e3c6300
    xpos 714
    ypos 74
   }
   Reformat {
    inputs 0
    type "to box"
    box_width 100
    box_height 4
    box_fixed true
    name Reformat2
    xpos 320
    ypos -730
    hide_input true
   }
   Ramp {
    p0 {0 0}
    p1 {99 0}
    name Ramp1
    xpos 320
    ypos -650
   }
   ColorLookup {
    lut {master {}
      red {curve C x-0.05884177983 -0.004536509514 x0.01015070826 0 s0.1400000006 x0.1017729789 0.1076634228 x0.1737238914 0 x0.4376193285 0 x0.6908689141 0.9834897519 S x0.7745882273 0.8638155506 C x0.871829927 0.2472041845 S x1.006029606 0 C x1.015911102 0}
      green {curve x0.0120717017 0 x0.1647586226 0 x0.2049030662 0 x0.5025014281 0.9204615951 x0.6684435606 0.3995269537 x0.7975517511 0 x0.905554533 0 x1.027772069 0 x1.02872479 0}
      blue {curve x-0.06189316511 0 s0 x0.01178315841 0 x0.06641255319 0.1264923215 C x0.1299110055 0.6372379661 x0.3119857609 0.7685220838 S x0.360124141 0.3393670321 x0.5631426573 0 C x0.7848843336 0 S x0.9272136688 0 x1.066449285 0 x1.069784403 0}
      alpha {}}
    name ColorLookup1
    xpos 320
    ypos -570
   }
   Clamp {
    minimum_enable {{parent.clampg}}
    maximum_enable false
    name Clamp4
    xpos 320
    ypos -496
   }
   Saturation {
    saturation {{parent.saturation}}
    name Saturation1
    xpos 320
    ypos -410
   }
   Grade {
    gamma {{parent.parent.smooth}}
    name Grade2
    xpos 320
    ypos -330
   }
   Group {
    name MS_hue_saturation
    tile_color 0xefb500ff
    note_font "Verdana Bold Italic"
    xpos 320
    ypos -250
    addUserKnob {20 grade}
    addUserKnob {6 color_rgb_panelDropped l "panel dropped state" +HIDDEN +STARTLINE}
    addUserKnob {26 _4 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MS_Hue Satuaration (Ae) v.1.0</span></b>"}
    addUserKnob {26 ""}
    addUserKnob {41 channels T GradeMaster.channels}
    addUserKnob {41 black l darks T GradeMaster.black}
    addUserKnob {41 add l master T GradeMaster.add}
    addUserKnob {41 gamma l mids T GradeMaster.gamma}
    addUserKnob {41 multiply l whites T GradeMaster.multiply}
    addUserKnob {41 saturation T Saturation1.saturation}
    addUserKnob {41 reverse T GradeMaster.reverse}
    addUserKnob {41 black_clamp l "black clamp" -STARTLINE T GradeMaster.black_clamp}
    addUserKnob {41 white_clamp l "white clamp" -STARTLINE T GradeMaster.white_clamp}
    addUserKnob {26 ""}
    addUserKnob {26 "" l mask T ""}
    addUserKnob {41 maskChannelInput l "" -STARTLINE T GradeMaster.maskChannelInput}
    addUserKnob {6 invert -STARTLINE}
    addUserKnob {41 unpremult l "(un)premult by" T GradeMaster.unpremult}
    addUserKnob {26 "" l "mix luminance" T ""}
    addUserKnob {41 enable_mix_luminance l "" -STARTLINE T GradeMaster.enable_mix_luminance}
    addUserKnob {41 mix_luminance l "" -STARTLINE T GradeMaster.mix_luminance}
    addUserKnob {41 mix T GradeMaster.mix}
    addUserKnob {20 _2 l info}
    addUserKnob {26 _5 l "" +STARTLINE T "This grade lets you affect the hue, saturation and\nbrightness channels individually.\n\nThat means if the node is set to brightness \nthere will be no changes in the saturation when\nchanging the brightness.\n\n"}
    addUserKnob {26 _3 l "" +STARTLINE T "<span style=\"color:#aaa;font-family:sans-serif;font-size:7pt\">node created by <b><span style=\"color:#aaaa00\">Johannes Kretschmer</span></b> mail: Jolegodrum@t-online.de - Version 1.0 - 2022 / part of  <span style=\"color:#aaa;font-family:sans-serif\"><b><span style=\"color:#ffaf24\">MANGO SUITE</span></b>\n"}
   }
    Input {
     inputs 0
     name mask
     xpos -357
     ypos 173
     number 1
     addUserKnob {20 User}
     addUserKnob {6 connected +STARTLINE}
     connected {{"\[exists input1]"}}
    }
set Nb3443000 [stack 0]
    Dot {
     name Dot14
     xpos -201
     ypos 176
    }
set Nb3443400 [stack 0]
    Dot {
     name Dot13
     xpos -201
     ypos 418
    }
push $Nb3443000
    Invert {
     name Invert1
     xpos -357
     ypos 245
    }
push $Nb3443400
    Switch {
     inputs 2
     which {{parent.invert}}
     name Switch3
     xpos -357
     ypos 350
    }
    Switch {
     inputs 2
     which {{mask.connected?0:1}}
     name Switch2
     xpos -357
     ypos 415
    }
    Dot {
     name Dot9
     xpos -323
     ypos 484
    }
set N54f0c000 [stack 0]
push $N54f0c000
    Input {
     inputs 0
     name Input1
     xpos -565
     ypos 190
    }
    Dot {
     name Dot1
     xpos -531
     ypos 291
    }
    Colorspace {
     colorspace_out HSV
     name Colorspace13
     xpos -565
     ypos 380
    }
    Grade {
     inputs 1+1
     channels {rgba.red -rgba.green -rgba.blue none}
     blackpoint {{parent.GradeMaster.blackpoint}}
     whitepoint {{parent.GradeMaster.whitepoint}}
     black {{parent.GradeMaster.black}}
     white {{parent.GradeMaster.white}}
     multiply {{parent.GradeMaster.multiply}}
     add {{parent.GradeMaster.add}}
     gamma {{parent.GradeMaster.gamma}}
     name GradeHUE
     xpos -565
     ypos 481
    }
    Colorspace {
     colorspace_in HSV
     name Colorspace14
     xpos -565
     ypos 570
    }
    Saturation {
     inputs 1+1
     name Saturation1
     xpos -565
     ypos 619
    }
    Output {
     name Output1
     xpos -565
     ypos 716
    }
    Grade {
     inputs 0
     channels rgba
     add {{parent.parent.parent.offsetcolor}}
     black_clamp false
     name GradeMaster
     tile_color 0xff0000ff
     xpos -729
     ypos 434
     hide_input true
    }
   end_group
   Expression {
    expr3 clamp(.2126*r+.7152*g+0.0722*b)
    name Luma_to_Alpha
    xpos 320
    ypos -170
   }
   Colorspace {
    colorspace_out CIE-XYZ
    name Colorspace2
    label "input \[value colorspace_in]\noutput \[value colorspace_out]"
    xpos 320
    ypos -102
    disable {{1-parent.XYZ_space}}
   }
push $N832fc400
   Colorspace {
    colorspace_out CIE-XYZ
    name Colorspace1
    label "input \[value colorspace_in]\noutput \[value colorspace_out]"
    xpos -40
    ypos -102
    disable {{1-parent.XYZ_space}}
   }
   Dot {
    name Dot2
    xpos -6
    ypos 74
   }
   BlinkScript {
    inputs 3
    recompileCount 8
    ProgramGroup 1
    KernelDescription "3 \"Chromatic\" iterate pixelWise 6f453a157371752868a37327fbdb66c1856663f8af8ccd497d5f5f6edc9785cd 4 \"src\" Read Random \"gradient\" Read Random \"vector\" Read Point \"dst\" Write Point 6 \"Multiply\" Float 1 AACAPw== \"Min Samples\" Int 1 BAAAAA== \"Max Samples\" Int 1 UAAAAA== \"Offset\" Float 1 AAAAAA== \"Normalize\" Bool 1 AQ== \"proxy\" Float 1 AAAAAA== 6 \"multiply\" 1 1 Default \"min_samples\" 1 1 Default \"max_samples\" 1 1 Default \"offset\" 1 1 Default \"normalize\" 1 1 Default \"proxy\" 1 1 Default 0"
    kernelSource "kernel Chromatic : ImageComputationKernel<ePixelWise>\n\{\n  Image<eRead, eAccessRandom, eEdgeClamped> src;  //the input image\n  Image<eRead, eAccessRandom, eEdgeClamped> gradient;  //color gradient\n  Image<eRead, eAccessPoint, eEdgeClamped> vector;  //VectorMap\n  Image<eWrite> dst;  //the output image\n\n  param:\n    float multiply;  //This parameter is made available to the user.\n    int min_samples;\n    int max_samples;\n    float offset;\n    bool normalize;\n    float proxy;\n\n  local:\n\n\n  //In define(), parameters can be given labels and default values.\n  void define() \{\n    defineParam(multiply, \"Multiply\", 1.0f);\n    defineParam(min_samples, \"Min Samples\", 4); \n    defineParam(max_samples, \"Max Samples\", 80); \n    defineParam(offset, \"Offset\", 0.0f);\n    defineParam(normalize, \"Normalize\", true);\n  \}\n\n  //The kernel function is run at every pixel to produce the output.\n  void process(int2 pos) \{\n    SampleType(src) valueSum(0);\n    SampleType(src) curVal(0);\n    float2 fpos = float2(pos.x,pos.y);  \n    float nSample;\n    int l;\n\n\n    //Read Vector value\n    float2 v = float2(vector(0), vector(1));\n    // Take into account the proxy scale\n    v = v*proxy;\n    //Vector Length int\n    l = int(floor(length(v)*fabs(multiply)+0.5));\n    \n\n    //Define Adaptive Sampling\n    int samples;\n    if (l < min_samples)\{samples = min_samples;\}\n    else if (l > max_samples)\{samples = max_samples;\}\n    else \{samples = l;\}\n\n\n    //Init value for normalization \n    float4 normSum = float4(0.0f) ;\n\n    // Loop through Samples\n    for( int a = 0; a < samples; a ++ )\n    \{\n      // Define normalised index of this sample (0-1 range)\n      nSample = float(a)/samples;\n\n      // Define the vector value for this pass (depending on offset)\n      float2 Ofs = ((v*nSample)-(v*(offset/2.0f+0.5f)))*multiply+fpos;\n\n      curVal = bilinear(src,Ofs.x,Ofs.y); //This function does a bilinear sampling of the scr image\n      int gIndex = int(99.0f*proxy*nSample+0.5f);\n      float4 gradVal = gradient(gIndex,0);\n      valueSum += curVal*gradVal;\n      normSum += float4(gradVal);\n    \}\n\n    if (normalize)\{\n      dst() = (valueSum/float(samples))/(normSum/float(samples));\n    \}\n    else \{\n      dst() = (valueSum/float(samples));\n    \}\n  \}\n\};\n\n"
    rebuild ""
    Chromatic_Multiply {{parent.Multiplier}}
    "Chromatic_Min Samples" {{parent.min}}
    "Chromatic_Max Samples" {{parent.max}}
    Chromatic_Offset {{parent.offset}}
    Chromatic_Normalize {{parent.normalize x50 0}}
    Chromatic_proxy {{"proxy ? (proxy_type ? proxy_scale : \[lindex \[value proxy_format] 0] / \[lindex \[value format] 0]) : 1"}}
    rebuild_finalise ""
    name BlinkScript10
    xpos 320
    ypos 65
   }
   Colorspace {
    colorspace_in CIE-XYZ
    name Colorspace3
    label "input \[value colorspace_in]\noutput \[value colorspace_out]"
    xpos 320
    ypos 138
    disable {{1-parent.XYZ_space}}
   }
   Clamp {
    maximum_enable false
    name Clamp1
    xpos 320
    ypos 224
   }
   Output {
    name Output1
    xpos 320
    ypos 310
   }
  end_group
  Output {
   name Output1
   xpos 860
   ypos 470
  }
  NoOp {
   inputs 0
   name direction_knob
   xpos 1400
   ypos -250
   hide_input true
   addUserKnob {20 User}
   addUserKnob {7 dir_1 l direction R 0 6.3}
   dir_1 {{(parent.dir_ctrl)/57.14285714285714}}
  }
 end_group
 CopyBBox {
  inputs 2
  name CopyBBox2
  xpos -221
  ypos 790
 }
 Dot {
  name Dot34
  xpos -187
  ypos 1273
 }
set N9cf81000 [stack 0]
push $N8e858000
 Dot {
  name Dot23
  xpos -367
  ypos 1193
 }
 Input {
  inputs 0
  name crosshair
  xpos -760
  ypos 710
  number 1
 }
 Grade {
  black 0.04
  name Grade8
  xpos -760
  ypos 870
 }
 Premult {
  name Premult2
  xpos -760
  ypos 950
 }
 Reformat {
  type "to box"
  box_width {{parent.NoOp1.uv.u*2}}
  box_height {{parent.NoOp1.uv.v*2}}
  box_fixed true
  box_pixel_aspect {{parent.NoOp1.pixelaspect}}
  resize height
  name Reformat5
  xpos -760
  ypos 1030
 }
 Transform {
  scale {{"enablezoom==1?\nzch==1 ? lerp((1/eyedistance)*chscale,(1/eyedistance)*chscale*(zoom), zmult)\n: \n(1/eyedistance)*chscale\n:\n(1/eyedistance)*chscale"}}
  center {{parent.NoOp1.uv} {parent.NoOp1.uv}}
  name Transform14
  xpos -760
  ypos 1110
 }
 CopyBBox {
  inputs 2
  name CopyBBox1
  xpos -760
  ypos 1190
 }
 LightWrap {
  inputs 2
  name LightWrap1
  xpos -760
  ypos 1270
  disable {{!parent.enwrap}}
  Diffuse 2
  Intensity 0.5
  disableluma true
  master 1
  shadows 1
  midtones 1
  highlights 1
 }
 Blur {
  size 1.4
  name Blur2
  xpos -760
  ypos 1344
 }
 Blur {
  channels {-rgba.red rgba.green rgba.blue none}
  size 2
  name Blur4
  xpos -760
  ypos 1430
 }
 Transform {
  translate {{Transform1.translate.x*multtranslate} {Transform1.translate.y*multtranslate}}
  center {{parent.NoOp1.uv} {parent.NoOp1.uv}}
  name Transform10
  tile_color 0xffd455ff
  label "crosshair\noffset"
  note_font "Verdana Bold"
  xpos -760
  ypos 1498
  disable {{!parent.enablemove}}
 }
 Merge2 {
  inputs 2
  operation stencil
  bbox B
  name Merge16
  xpos -761
  ypos 1990
 }
push $N581a1c00
 Transform {
  translate {{parent.Transform10.translate*relmove} {parent.Transform10.translate*relmove}}
  center {{parent.NoOp1.uv} {parent.NoOp1.uv}}
  name Transform6
  tile_color 0xffd455ff
  label "scope inside\noffset"
  note_font "Verdana Bold"
  xpos -940
  ypos 1658
  disable {{!parent.enablemove}}
 }
set Na2c7b000 [stack 0]
 Defocus {
  defocus {{parent.def_3}}
  name Defocus1
  xpos -580
  ypos 1824
  disable {{!parent.edgedef}}
 }
push $Na2c7b000
 Blur {
  size 150
  name Blur5
  xpos -580
  ypos 1584
 }
 Grade {
  channels rgba
  whitepoint 0.5
  white_clamp true
  name Grade6
  xpos -400
  ypos 1590
 }
set Na2c7bc00 [stack 0]
 Dot {
  name Dot15
  xpos -368
  ypos 1433
 }
 Invert {
  name Invert2
  xpos 140
  ypos 1424
 }
 Input {
  inputs 0
  name lens_dirth
  xpos 320
  ypos 1190
  number 4
 }
 Reformat {
  type "to box"
  box_width {{parent.NoOp1.uv.u*2}}
  box_height {{parent.NoOp1.uv.v*2}}
  box_fixed true
  box_pixel_aspect {{parent.NoOp1.pixelaspect}}
  resize height
  name Reformat7
  xpos 320
  ypos 1270
 }
 Merge2 {
  inputs 2
  operation stencil
  name Merge18
  xpos 320
  ypos 1430
  disable {{!parent.maskbymask}}
 }
 Dot {
  name Dot17
  xpos 353
  ypos 1753
 }
push $Na2c7bc00
push $Na2c7bc00
push $N9cf81000
 Grade {
  inputs 1+1
  multiply 0.5
  name Grade2
  xpos -220
  ypos 1590
  disable {{!parent.engrade}}
 }
 Grade {
  inputs 1+1
  white {0.42267102 0.556795001 1 1}
  name Grade9
  xpos -220
  ypos 1670
  disable {{!parent.engradecol}}
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge17
  xpos -220
  ypos 1750
  disable {{!parent.enablelensdirth}}
 }
 Merge2 {
  inputs 2
  operation stencil
  bbox B
  name Merge5
  xpos -220
  ypos 1830
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge7
  xpos -220
  ypos 1990
  disable {{!parent.enablecrosshair}}
 }
 Merge2 {
  inputs 2
  bbox B
  also_merge depth
  name Merge1
  xpos -220
  ypos 2070
  disable {{!parent.enablebg}}
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge8
  xpos -220
  ypos 2150
  disable {{!parent.wheels}}
 }
 Merge2 {
  inputs 2
  bbox B
  name Merge4
  xpos -220
  ypos 2310
  disable {{!parent.enablescope}}
 }
 Crop {
  box {0 0 {(NoOp1.uv.u)*2} {(NoOp1.uv.v)*2}}
  name Crop1
  xpos -221
  ypos 2391
  disable {{parent.presbbox}}
 }
 Output {
  name Output1
  xpos -221
  ypos 2550
 }
 Transform {
  inputs 0
  center {{parent.NoOp1.uv} {parent.NoOp1.uv}}
  name Transform1
  tile_color 0xff5555ff
  label "move crosshair"
  note_font "Verdana Bold"
  xpos -940
  ypos 1504
  hide_input true
  disable {{!parent.enablemove}}
 }
end_group
